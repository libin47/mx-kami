(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8451],{1697:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games",function(){return c(66390)}])},66390:function(j,b,a){"use strict";a.r(b),a.d(b,{"default":function(){return A}});var d=a(5702),e=a.n(d),k=a(62086),f=a(57397),l=a(93236),g=a(77372),m=a.n(g),n=a(76226),o=a(51626);function p(a){return(0,k.jsx)("svg",{width:"3em",height:"3em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,k.jsx)("path",{fill:"currentColor",d:"M416 400V464C416 490.5 394.5 512 368 512H320V464C320 455.2 312.8 448 304 448C295.2 448 288 455.2 288 464V512H224V464C224 455.2 216.8 448 208 448C199.2 448 192 455.2 192 464V512H144C117.5 512 96 490.5 96 464V400C96 399.6 96 399.3 96.01 398.9C37.48 357.8 0 294.7 0 224C0 100.3 114.6 0 256 0C397.4 0 512 100.3 512 224C512 294.7 474.5 357.8 415.1 398.9C415.1 399.3 416 399.6 416 400V400zM160 192C124.7 192 96 220.7 96 256C96 291.3 124.7 320 160 320C195.3 320 224 291.3 224 256C224 220.7 195.3 192 160 192zM352 320C387.3 320 416 291.3 416 256C416 220.7 387.3 192 352 192C316.7 192 288 220.7 288 256C288 291.3 316.7 320 352 320z"})})}function q(a){return(0,k.jsx)("svg",{width:"3em",height:"3em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",children:(0,k.jsx)("path",{fill:"currentColor",d:"M315.1 271l-70.56-112.1C232.8 139.3 212.5 128 190.3 128H129.7c-22.22 0-42.53 11.25-54.28 30.09L4.873 271c-9.375 14.98-4.812 34.72 10.16 44.09c15 9.375 34.75 4.812 44.09-10.19l28.88-46.18L87.1 480c0 17.67 14.33 32 32 32c17.67 0 31.1-14.33 31.1-32l0-144h16V480c0 17.67 14.33 32 32 32c17.67 0 32-14.33 32-32V258.8l28.88 46.2C266.9 314.7 277.4 320 288 320c5.781 0 11.66-1.562 16.94-4.859C319.9 305.8 324.5 286 315.1 271zM160 96c26.5 0 48-21.5 48-48S186.5 0 160 0C133.5 0 112 21.5 112 48S133.5 96 160 96z"})})}function r(a){return(0,k.jsx)("svg",{width:"3em",height:"3em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",children:(0,k.jsx)("path",{fill:"currentColor",d:"M344 48H376C389.3 48 400 58.75 400 72C400 85.25 389.3 96 376 96H344V142.4L456.7 210C471.2 218.7 480 234.3 480 251.2V512H384V416C384 380.7 355.3 352 320 352C284.7 352 256 380.7 256 416V512H160V251.2C160 234.3 168.8 218.7 183.3 210L296 142.4V96H264C250.7 96 240 85.25 240 72C240 58.75 250.7 48 264 48H296V24C296 10.75 306.7 0 320 0C333.3 0 344 10.75 344 24V48zM24.87 330.3L128 273.6V512H48C21.49 512 0 490.5 0 464V372.4C0 354.9 9.53 338.8 24.87 330.3V330.3zM592 512H512V273.6L615.1 330.3C630.5 338.8 640 354.9 640 372.4V464C640 490.5 618.5 512 592 512V512z"})})}function s(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function t(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function h(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){t(g,e,f,d,h,"next",a)}function h(a){t(g,e,f,d,h,"throw",a)}d(void 0)})}}function u(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function v(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){u(d,a,c[a])})}return d}function w(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,b)||x(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(a,c){if(a){if("string"==typeof a)return s(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return s(a,c)}}function y(){return z.apply(this,arguments)}function z(){return(z=h(e().mark(function a(){var b,c,d,f,g,h,i,j,k,l,m,o,p,q,r,s,t,u,x,y,z,A,B,C,D;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=w,a.next=3,Promise.allSettled([n.x.snippet.getByReferenceAndName("game","Map"),n.x.snippet.getByReferenceAndName("game","People"),n.x.snippet.getByReferenceAndName("game","Enemy"),n.x.snippet.getByReferenceAndName("game","EnemyGroup"),n.x.snippet.getByReferenceAndName("game","Item"),n.x.snippet.getByReferenceAndName("game","MapSet"),n.x.snippet.getByReferenceAndName("game","Event"),n.x.snippet.getByReferenceAndName("game","Option"),n.x.snippet.getByReferenceAndName("game","Talk"),n.x.snippet.getByReferenceAndName("game","WorldMap"),n.x.snippet.getByReferenceAndName("game","Player"),n.x.snippet.getByReferenceAndName("game","AiEnemy"),]);case 3:return a.t1=a.sent,c=(b=(0,a.t0)(a.t1,12))[0],d=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=b[9],o=b[10],p=b[11],q=null,r=null,s=null,t=null,u=null,x=null,y=null,z=null,A=null,B=null,C=null,D=null,"fulfilled"===c.status&&(q=v({},c.value)),"fulfilled"===d.status&&(r=v({},d.value)),"fulfilled"===f.status&&(s=v({},f.value)),"fulfilled"===g.status&&(t=v({},g.value)),"fulfilled"===h.status&&(u=v({},h.value)),"fulfilled"===i.status&&(x=v({},i.value)),"fulfilled"===j.status&&(y=v({},j.value)),"fulfilled"===k.status&&(z=v({},k.value)),"fulfilled"===l.status&&(A=v({},l.value)),"fulfilled"===m.status&&(B=v({},m.value)),"fulfilled"===o.status&&(C=v({},o.value)),"fulfilled"===p.status&&(D=v({},p.value)),a.abrupt("return",{dataMap:q,dataPeople:r,dataEnemy:s,dataEnemyGroup:t,dataItem:u,dataMapSet:x,dataEventBase:y,dataOption:z,dataTalk:A,dataWorldMap:B,dataPlayerBase:C,dataAi:D});case 42:case"end":return a.stop()}},a)}))).apply(this,arguments)}var i,c=(0,f.Pi)(function(c){var v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,aB=function(){for(var b=a;(null==b?void 0:b.eventGet)&&aE(b.eventGet.events);)b=h[b.eventGet.eventMap];a$(b)},j=function(c){console.log(c);var d=c.target.value;if(null==a?void 0:a[d]){for(var b=h[a[d]];(null==b?void 0:b.eventGet)&&aE(b.eventGet.events);)b=h[b.eventGet.eventMap];a$(b)}},e=function(b){return null==a?void 0:a[b]},aC=function(b){var c=b.target.value;a_(_[a.mapSetId].peopleIds[c]),aZ(1)},aD=function(b){var c=b.target.value;a_(_[a.mapSetId].enemyIds[c]),aZ(2)},Y=function(){aZ(0)},aE=function(h){var b=!0,c=!0,e=!1,f=void 0;try{for(var g,d=h[Symbol.iterator]();!(c=(g=d.next()).done);c=!0){var a=g.value;"Equal"==a.eventtype?b=b&&a.eventvalue==bb[a.eventid].value:"Bigger"==a.eventtype?b=b&&bb[a.eventid].value>a.eventvalue:"Smaller"==a.eventtype&&(b=b&&bb[a.eventid].value<a.eventvalue)}}catch(i){e=!0,f=i}finally{try{c||null==d.return||d.return()}finally{if(e)throw f}}return b},aF=function(d){var b,e=d.target.value,c=null===(b=_[a.mapSetId])|| void 0===b?void 0:b.peopleIds[e];a_(c),ap({target:{value:c}})},ap=function(e){for(var b,c,a=null===(b=d[e.target.value])|| void 0===b?void 0:b.talkId;(null==n?void 0:n[a])&&(null===(c=n[a])|| void 0===c?void 0:c.eventGet)&&aE(n[a].eventGet.events);)a=n[a].eventGet.eventTalk;a0(a),a1(0),aZ(4)},aG=function(k){var b=aX[k],c=!0,d=!0,h=!1,i=void 0;try{for(var j,e=b.itemGet[Symbol.iterator]();!(d=(j=e.next()).done);d=!0){var f,g,a=j.value;c=c&&(null===(f=u.item)|| void 0===f?void 0:f[a.itemid])>=a.nummin&&(!(null==a?void 0:a.nummax)||(null===(g=u.item)|| void 0===g?void 0:g[a.itemid])<=(null==a?void 0:a.nummax))}}catch(l){h=!0,i=l}finally{try{d||null==e.return||e.return()}finally{if(h)throw i}}return c&&(!(null==b?void 0:b.eventGet)||aE(null==b?void 0:b.eventGet))},aH=function(t){var k=t.target.value,c=u,d=!0,l=!1,m=void 0;try{for(var e,f,n,g=(null===(e=aX[k])|| void 0===e?void 0:e.itemSet)[Symbol.iterator]();!(d=(n=g.next()).done);d=!0){var h,a=n.value;(null===(h=c.item)|| void 0===h?void 0:h[a.itemid])?c.item[a.itemid]=c.item[a.itemid]+a.itemnum:(c.item[a.itemid]=Math.max(a.itemnum,0),a.itemnum<0&&console.log("\u60F3\u6263\u6CA1\u6709\u7684\u4E1C\u897F\uFF0C\u68C0\u67E5option\u7684\u8981\u6C42\u9650\u5236\u662F\u5426\u6B63\u786E"))}}catch(v){l=!0,m=v}finally{try{d||null==g.return||g.return()}finally{if(l)throw m}}ba(c);var o=bb,i=!0,p=!1,q=void 0;try{for(var r,j=(null===(f=aX[k])|| void 0===f?void 0:f.eventSet)[Symbol.iterator]();!(i=(r=j.next()).done);i=!0){var s=r.value;o[s.eventid].value=s.eventvalue}}catch(w){p=!0,q=w}finally{try{i||null==j.return||j.return()}finally{if(p)throw q}}bc(o),ap({target:{value:b}}),aB()},aI=function(d){var b,e=d.target.value,c=null===(b=_[a.mapSetId])|| void 0===b?void 0:b.peopleIds[e];a_(c),aL({target:{value:c}})},aJ=function(d){var b,e=d.target.value,c=null===(b=_[a.mapSetId])|| void 0===b?void 0:b.enemyIds[e];a_(c),aq({target:{value:c}})},aK=function(j){var k=j.enemys,d=[],b=!0,e=!1,f=void 0;try{for(var g,c=k[Symbol.iterator]();!(b=(g=c.next()).done);b=!0){var a=g.value;if(!(null==a?void 0:a.prob)||Math.random()<a.prob){var h=void 0;h=(null==a?void 0:a.minnum)?parseInt(Math.random()*(a.maxnum-a.minnum+1)+a.minnum+""):parseInt(Math.random()*(a.maxnum+1)+"");for(var i=0;i<h;i++)d.push(a.enemyid)}}}catch(l){e=!0,f=l}finally{try{b||null==c.return||c.return()}finally{if(e)throw f}}return d},aL=function(b){var c=b.target.value;if(confirm("\u786E\u5B9A\u8981\u5BF9\u8BE5\u975E\u654C\u5BF9\u89D2\u8272\u52A8\u624B\u5417\uFF1F")){var a=d[c].enemyId;aN((null==$?void 0:$[a])?aK($[a]):[a])}else console.log(!1)},aq=function(b){var a=b.target.value;aN((null==$?void 0:$[a])?aK($[a]):[a])},aM=function(){var a={};a.move=[{name:"\u79FB\u52A8",dis:2},{name:"\u5FEB\u901F\u79FB\u52A8",dis:3}],a.attack=[];var b=!0,g=!1,h=void 0;try{for(var i,c=u.weaponIds[Symbol.iterator]();!(b=(i=c.next()).done);b=!0){var d=i.value,j=aW[d];a.attack.push({name:j.name,dis:j.wdistance})}}catch(p){g=!0,h=p}finally{try{b||null==c.return||c.return()}finally{if(g)throw h}}a.skill=[];var e=!0,k=!1,l=void 0;try{for(var m,f=u.skill[Symbol.iterator]();!(e=(m=f.next()).done);e=!0){var d=m.value;a.skill.push({name:d,dis:4})}}catch(q){k=!0,l=q}finally{try{e||null==f.return||f.return()}finally{if(k)throw l}}for(var r in a.items=[],u.item){var n=aW[r];"Weapon"!=n.type&&a.items.push({name:n.name,dis:-1})}a.def=[{name:"\u9632\u5FA1\u67B6\u52BF",dis:0}],a.run=[{name:"\u5168\u4F53\u9003\u8131",dis:-1},{name:"\u81EA\u5DF1\u9003\u8131",dis:0}];var o=u;o.menu=a,ba(o)},aN=function(n){for(var o in a5([""]),a3)delete a3[o];var d=!0,h=!1,i=void 0;try{for(var j,e=n[Symbol.iterator]();!(d=(j=e.next()).done);d=!0){for(var b=j.value,a="";null==a3?void 0:a3[b+a];){var c=a,f=!0,k=!1,l=void 0;try{for(var m,g=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"][Symbol.iterator]();!(f=(m=g.next()).done);f=!0){var p=m.value;if(c=a+p,!(null==a3?void 0:a3[b+c])){a=c;break}}}catch(q){k=!0,l=q}finally{try{f||null==g.return||g.return()}finally{if(k)throw l}}a=c}a3[b+a]=JSON.parse(JSON.stringify(Z[b])),a3[b+a].name=a3[b+a].name+a,a3[b+a].step=0,a3[b+a].hp_||(a3[b+a].hp_=Number(a3[b+a].hp)),a3[b+a].mp_||(a3[b+a].mp_=a3[b+a].mp),a3[b+a].speed_||(a3[b+a].speed_=a3[b+a].speed)}}catch(r){h=!0,i=r}finally{try{d||null==e.return||e.return()}finally{if(h)throw i}}a4(a3),u.step=0,aP(a3),a7(""),aZ(5),bd(!0)},aO=function(o){var a=a3[o];(null==a?void 0:a.ai)||(a.ai="base");var b=aY[a.ai];if(b.canRun&&Math.random()<b.runProb&&a.hp_/a.hp<b.runHp)console.log(a.name+" run!!");else if(b.canRecover&&Math.random()<b.recoverProb)console.log(a.name+" recover!!");else if(b.canSupport&&Math.random()<b.supportProb)console.log(a.name+" support!!");else if(b.canHurt){var h=[];if(b.canAttack){var d=!0,i=!1,j=void 0;try{for(var k,e=a.weaponIds[Symbol.iterator]();!(d=(k=e.next()).done);d=!0){var c=k.value;h.push({type:"attack",distance:aW[c].wdistance,id:c})}}catch(p){i=!0,j=p}finally{try{d||null==e.return||e.return()}finally{if(i)throw j}}}if(b.canSkill&&b.skillIds){var f=!0,l=!1,m=void 0;try{for(var n,g=a.skill[Symbol.iterator]();!(f=(n=g.next()).done);f=!0){var c=n.value;h.push({type:"attack",distance:aW[c].wdistance,id:c})}}catch(q){l=!0,m=q}finally{try{f||null==g.return||g.return()}finally{if(l)throw m}}}}a.step=0,at.push(a.name+"\u7684\u56DE\u5408\uFF01"),a5(at),a4(a3),bd(!1)},aP=function(d){for(var c=Math.max(7,u.distance),a=[],i=0;i<3*c;i++)a.push({select:!1,type:!1,self:!1});for(var e in d){var j=d[e];if(j){var f=0,g=!0,k=!1,l=void 0;try{for(var m,h=j.weaponIds[Symbol.iterator]();!(g=(m=h.next()).done);g=!0){var n=m.value;aW[n].wdistance>f&&(f=aW[n].wdistance)}}catch(o){k=!0,l=o}finally{try{g||null==h.return||h.return()}finally{if(k)throw l}}for(var b=3*Math.min(c-f,3)-1;("enemy"==a[b].type||"player"==a[b].type)&&!((b-=1)<0););a[b].type="enemy",a[b].id=e,d[e].pos=b}}a[3*c-5].type="player",a[3*c-5].id=u.name,u.pos=3*c-5,u.weaponindex=0,a4(d),aM(),a6(a)},g=function(c){var a=c.currentTarget.value,b=u.weaponindex;a==f?(a7(""),a9(0),aR(0,"")):(a7(a),"attack"==a?(a9(b),aR(b,a)):(a9(0),aR(0,a)))},aQ=function(b){var a=b.currentTarget.value;a9(a),aR(a,f),"attack"==f&&(u.weaponindex=a,ba(u))},aR=function(g,d){if(!(null==u?void 0:null===(i=u.menu)|| void 0===i?void 0:i[d])){a6(aS());return}var i,b,f=u.menu[d][g].dis,h=Math.floor(u.pos/3);u.pos;var e="r",c="rb";if("move"==d?(e="g",c="gb",b=!1):"items"==d||"def"==d?(e="g",c="gb",b="player"):b="enemy",f>0)for(var a=0;a<au.length;a++)Math.abs(Math.floor(a/3)-h)<=f?(au[a].select=c,au[a].type==b&&(au[a].select=e)):au[a].select=!1,au[u.pos].select="self";else if(0==f)for(var a=0;a<au.length;a++)a==u.pos?(au[a].select=c,au[a].type==b&&(au[a].select=e)):au[a].select=!1;else for(var a=0;a<au.length;a++)"player"==au[a].type?(au[a].select=c,au[a].type==b&&(au[a].select=e)):au[a].select=c;au[u.pos].self=!0,a6(au)},aS=function(){for(var b=au,a=0;a<au.length;a++)b[a].select=!1,b[a].self=!1;return b},aT=function(){u.step=1,ba(u),bd(!1)},aU=function(j){var d,e,g,h,a=j.currentTarget.getAttribute("data-value");if(""==f)(null===(d=au[a])|| void 0===d?void 0:d.enemy)?console.log(null===(g=au[a])|| void 0===g?void 0:g.type,"\u67E5\u770B\u4FE1\u606F"):(null===(e=au[a])|| void 0===e?void 0:e.player)&&console.log(null===(h=au[a])|| void 0===h?void 0:h.type,"\u67E5\u770B\u73A9\u5BB6\u4FE1\u606F");else switch(f){case"move":if(au[a].type)console.log("\u65E0\u6548\u79FB\u52A8");else if("g"!=au[a].select)console.log("\u65E0\u6548\u79FB\u52A8");else{a7(""),a6(aS()),a6(au);var b=au,c=u;b[c.pos].type=!1,c.pos=a,b[a].type="player",b[a].id=c.name,ba(c),a6(b),aT()}break;case"attack":if(au[a].type||"enemy"==au[a].type){if("r"!=au[a].select)console.log("\u65E0\u6548\u653B\u51FB");else{a7(""),a6(aS()),a6(au);var i=a3[au[a].id];i.hp_=i.hp_-aW[u.weaponIds[u.weaponindex]].wattack,i.hp_<=0&&a4(aV()),a4(a3),a6(au),aT()}}else console.log("\u65E0\u6548\u653B\u51FB")}},aV=function(){for(var a in a3){var b=a3[a];b.hp_<=0&&(au[b.pos].type=!1,a3[a]=null)}return a3},h=c.dataMap,d=c.dataPeople,Z=c.dataEnemy,$=c.dataEnemyGroup,aW=c.dataItem,_=c.dataMapSet,ar=c.dataEventBase,aX=c.dataOption,n=c.dataTalk,s=c.dataWorldMap,as=c.dataPlayerBase,aY=c.dataAi,aa=(0,l.useState)(0),i=aa[0],aZ=aa[1],ab=(0,l.useState)(h.fengCheCunW1),a=ab[0],a$=ab[1],ac=(0,l.useState)("girl"),b=ac[0],a_=ac[1],ad=(0,l.useState)(""),t=ad[0],a0=ad[1],ae=(0,l.useState)(0),af=ae[0],a1=ae[1],ag=(0,l.useState)({now:""}),ah=ag[0],a2=ag[1],ai=(0,l.useState)({shiLaiMu:Z.dataEnemy,step:1}),a3=ai[0],a4=ai[1],aj=(0,l.useState)([""]),at=aj[0],a5=aj[1],ak=(0,l.useState)([Z.shiLaiMu,null]),au=ak[0],a6=ak[1],al=(0,l.useState)(""),f=al[0],a7=al[1],am=(0,l.useState)(0),a8=am[0],a9=am[1],an=(0,l.useState)(as),u=an[0],ba=an[1],ao=(0,l.useState)(ar),bb=ao[0],bc=ao[1];function bd(){var c,d,e=!(arguments.length>0)|| void 0===arguments[0]||arguments[0],b=[];for(var a in a3)a3[a]&&(e&&(null===(c=a3[a])|| void 0===c?void 0:c.step)> -1&&(a3[a].step+=1),(null===(d=a3[a])|| void 0===d?void 0:d.step)/(1-a3[a].speed/(a3[a].speed+100))>100&&b.push(a));var f=[];e&&(u.step+=1),u.step/(1-u.speed/(u.speed+100))>100&&f.push(1),b.length>0?(a2({now:b[0]}),aO(b[0])):f.length>0?(aM(),a2({now:"player"})):(a2({now:""}),a4(a3),setTimeout(function(){bd(!0)},3))}var av=(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{className:m().pages,hidden:0!=i,children:[(0,k.jsxs)("div",{className:m().maptop,children:[(0,k.jsx)("div",{className:m().titlemain,children:null==a?void 0:a.name}),(0,k.jsx)("div",{className:m().titlesub,children:null===(v=s[null==a?void 0:a.inId])|| void 0===v?void 0:v.name})]}),(0,k.jsxs)("div",{className:m().mapmid,children:[(0,k.jsxs)("div",{className:m().midleft,children:[(0,k.jsx)("div",{className:m().leftava,children:"\u72B6\u6001\u680F"}),(0,k.jsx)("div",{className:(0,o.Z)(m().leftscene),children:(0,k.jsxs)("div",{className:(0,o.Z)(m().logomain,"flex items-center justify-center"),children:[" ",(0,k.jsx)(r,{})]})})]}),(0,k.jsxs)("div",{className:m().midright,children:[(0,k.jsx)("div",{className:(0,o.Z)(m().rightlocal,"flex items-center justify-center"),children:null==a?void 0:a.desc}),(0,k.jsxs)("div",{className:(0,o.Z)(m().rightpeople),children:[(0,k.jsxs)("div",{className:(0,o.Z)(m().logomain,"flex items-center justify-center"),children:[" ",(0,k.jsx)(q,{})]}),(0,k.jsx)("div",{className:(0,o.Z)(m().listall),children:null===(w=_[a.mapSetId])|| void 0===w?void 0:null===(x=w.peopleIds)|| void 0===x?void 0:x.map(function(a,b){var c,e,f,g,h,i,j;return(0,k.jsxs)("div",{className:(0,o.Z)(m().listoneout,"flex items-center justify-center"),children:[(0,k.jsx)("button",{className:(0,o.Z)(m().listname),onClick:aC,value:b,children:String(null===(c=d[a])|| void 0===c?void 0:c.name)},b),(0,k.jsx)("div",{className:m().listdiv,children:(0,k.jsx)("button",{hidden:null===(e=d[a])|| void 0===e||!e.buyId,className:(0,o.Z)(m()[(null===(f=d[a])|| void 0===f?void 0:f.buyId)?"buttonbuycolor":"buttondisablecolor"],m().listbutton),children:"\u4EA4\u6613"})}),(0,k.jsx)("div",{className:m().listdiv,children:(0,k.jsx)("button",{disabled:null===(g=d[a])|| void 0===g||!g.enemyId,className:(0,o.Z)(m()[(null===(h=d[a])|| void 0===h?void 0:h.enemyId)?"buttonattackcolor":"buttondisablecolor"],m().listbutton),onClick:aI,value:b,children:"\u653B\u51FB"},b)}),(0,k.jsx)("div",{className:m().listdiv,children:(0,k.jsx)("button",{disabled:null===(i=d[a])|| void 0===i||!i.talkId,className:(0,o.Z)(m()[(null===(j=d[a])|| void 0===j?void 0:j.talkId)?"buttontalkcolor":"buttondisablecolor"],m().listbutton),onClick:aF,value:b,children:"\u5BF9\u8BDD"},b)})]})})})]}),(0,k.jsxs)("div",{className:m().rightenemy,children:[(0,k.jsxs)("div",{className:(0,o.Z)(m().logomain,"flex items-center justify-center"),children:[" ",(0,k.jsx)(p,{})]}),(0,k.jsx)("div",{className:(0,o.Z)(m().listall),children:null===(y=_[a.mapSetId])|| void 0===y?void 0:null===(z=y.enemyIds)|| void 0===z?void 0:z.map(function(c,a){var b;return(0,k.jsxs)("div",{className:(0,o.Z)(m().listoneout,"flex items-center"),children:[(0,k.jsx)("button",{className:(0,o.Z)(m().listnamemaster),onClick:aD,value:a,children:null===(b=$[c])|| void 0===b?void 0:b.name},a),(0,k.jsx)("div",{className:m().listdivmaster,children:(0,k.jsx)("button",{className:(0,o.Z)(m().buttonattackcolor,m().listbutton),onClick:aJ,value:a,children:"\u653B\u51FB"},a)})]},a)})})]})]})]}),(0,k.jsxs)("div",{className:m().mapdown,children:[(0,k.jsx)("button",{type:"button",disabled:!e("top"),className:(0,o.Z)(m().buttontop,m()[e("top")?"canable":"disable"]),onClick:j,value:"top",children:null===(A=h[null==a?void 0:a.top])|| void 0===A?void 0:A.name}),(0,k.jsxs)("button",{type:"button",disabled:!e("down"),className:(0,o.Z)(m().buttondown,m()[e("down")?"canable":"disable"]),onClick:j,value:"down",children:[" ",null===(B=h[null==a?void 0:a.down])|| void 0===B?void 0:B.name," "]}),(0,k.jsxs)("button",{type:"button",disabled:!e("left"),className:(0,o.Z)(m().buttonleft,m()[e("left")?"canable":"disable"]),onClick:j,value:"left",children:[" ",null===(C=h[null==a?void 0:a.left])|| void 0===C?void 0:C.name," "]}),(0,k.jsxs)("button",{type:"button",disabled:!e("right"),className:(0,o.Z)(m().buttonright,m()[e("right")?"canable":"disable"]),onClick:j,value:"right",children:[" ",null===(D=h[null==a?void 0:a.right])|| void 0===D?void 0:D.name," "]}),(0,k.jsx)("button",{type:"button",className:m().buttonmid,children:null==a?void 0:a.name})]})]})}),aw=(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{className:m().pages,hidden:1!=i,children:[(0,k.jsxs)("div",{className:m().maptop,children:[(0,k.jsx)("div",{className:m().titlemain,children:null==a?void 0:a.name}),(0,k.jsx)("div",{className:m().titlesub,children:null===(E=s[null==a?void 0:a.inId])|| void 0===E?void 0:E.name})]}),(0,k.jsxs)("div",{className:(0,o.Z)(m().checkdesc),children:[(0,k.jsx)("div",{className:(0,o.Z)(m().checktitle),children:null===(F=d[b])|| void 0===F?void 0:F.name}),(0,k.jsx)("div",{className:(0,o.Z)(m().checksub),children:null===(G=d[b])|| void 0===G?void 0:G.desc})]}),(0,k.jsxs)("div",{className:m().checkbG,children:[(0,k.jsx)("button",{disabled:null===(H=d[b])|| void 0===H||!H.talkId,className:(0,o.Z)(m()[(null===(I=d[b])|| void 0===I?void 0:I.talkId)?"buttontalkcolor":"buttondisablecolor"],m().checkbutton),onClick:ap,value:b,children:"\u5BF9\u8BDD"}),(0,k.jsx)("button",{disabled:null===(J=d[b])|| void 0===J||!J.enemyId,className:(0,o.Z)(m()[(null===(K=d[b])|| void 0===K?void 0:K.enemyId)?"buttonattackcolor":"buttondisablecolor"],m().checkbutton),children:"\u653B\u51FB"}),(0,k.jsx)("button",{hidden:null===(L=d[b])|| void 0===L||!L.buyId,className:(0,o.Z)(m()[(null===(M=d[b])|| void 0===M?void 0:M.buyId)?"buttonbuycolor":"buttondisablecolor"],m().startTalk),children:"\u4EA4\u6613"}),(0,k.jsx)("button",{onClick:Y,className:(0,o.Z)(m().checkbutton,m().buttonbackcolor,m().checkbuttonback),children:"\u8FD4\u56DE"})]})]})}),ax=(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{className:m().pages,hidden:2!=i,children:[(0,k.jsxs)("div",{className:m().maptop,children:[(0,k.jsx)("div",{className:m().titlemain,children:null==a?void 0:a.name}),(0,k.jsx)("div",{className:m().titlesub,children:null===(N=s[null==a?void 0:a.inId])|| void 0===N?void 0:N.name})]}),(0,k.jsxs)("div",{className:(0,o.Z)(m().checkmasterdesc),children:[(0,k.jsx)("div",{className:(0,o.Z)(m().checktitle),children:null===(O=$[b])|| void 0===O?void 0:O.name}),(0,k.jsx)("div",{className:(0,o.Z)(m().checksub),children:null===(P=$[b])|| void 0===P?void 0:P.desc})]}),(0,k.jsxs)("div",{className:m().checkbG,children:[(0,k.jsx)("button",{className:(0,o.Z)(m().buttonattackcolor,m().checkbutton),onClick:aq,value:b,children:"\u653B\u51FB"}),(0,k.jsx)("button",{onClick:Y,className:(0,o.Z)(m().checkbutton,m().buttonbackcolor,m().checkbuttonback),children:"\u8FD4\u56DE"})]})]})}),ay=(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{className:m().pages,hidden:4!=i,children:[(0,k.jsxs)("div",{className:m().maptop,children:[(0,k.jsx)("div",{className:m().titlemain,children:null==a?void 0:a.name}),(0,k.jsx)("div",{className:m().titlesub,children:null===(Q=s[null==a?void 0:a.inId])|| void 0===Q?void 0:Q.name})]}),(0,k.jsxs)("div",{className:(0,o.Z)(m().talkmain),onClick:function(){var a;af+1==(null===(a=n[t])|| void 0===a?void 0:a.text.length)?(d[b].talkId=n[t].nextTalkId,aZ(0)):a1(af+1)},children:[(0,k.jsx)("div",{className:(0,o.Z)(m().checktitle),children:null===(R=d[b])|| void 0===R?void 0:R.name}),(0,k.jsx)("div",{className:(0,o.Z)(m().talkbG),children:null===(S=n[t])|| void 0===S?void 0:S.text[af]})]}),(0,k.jsx)("div",{className:m().checkbG,hidden:!(null===(T=n[t])|| void 0===T?void 0:T.optionIds)||(null===(U=n[t])|| void 0===U?void 0:U.text.length)!=af+1,children:null===(V=n[t])|| void 0===V?void 0:null===(W=V.optionIds)|| void 0===W?void 0:W.map(function(a,c){var b;return(0,k.jsx)("button",{className:(0,o.Z)(m()[aG(a)?"buttonbackcolor":"buttondisablecolor"],m().buttonoption),disabled:!aG(a),onClick:aH,value:a,children:null===(b=aX[a])|| void 0===b?void 0:b.name})})})]})});k.Fragment;var az=(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("div",{className:m()["battle-page"],hidden:5!=i,children:(0,k.jsx)("div",{className:m()["battle-page-main"],children:(0,k.jsxs)("div",{className:m()["battle-page-main2"],children:[(0,k.jsx)("div",{className:m()["battle-top"],children:"\u6218\u6597"}),(0,k.jsxs)("div",{className:m()["battle-mid"],children:[(0,k.jsx)("div",{className:m()["battle-left"],children:(0,k.jsx)("div",{className:m()["battle-left-menu"],children:(null==u?void 0:u.menu)&&(null===(X=u.menu)|| void 0===X?void 0:X[f])?u.menu[f].map(function(b,a){return(0,k.jsx)("button",{className:(0,o.Z)(m()["battle-button-sub"],m()[a8==a?"bbuton-sub-scolor":"bbuton-sub-color"]),onClick:aQ,value:a,children:(0,k.jsx)("div",{className:m()["battle-button-sub-font"],children:b.name})})}):""})}),(0,k.jsxs)("div",{className:m()["battle-right"],hidden:(null==ah?void 0:ah.now)!="player",children:[(0,k.jsx)("button",{className:(0,o.Z)(m()["battle-button"],m()["move"==f?"bbuton-scolor":"bbuton-color"]),onClick:g,value:"move",children:(0,k.jsx)("div",{className:m()["battle-button-font"],children:"\u79FB\u52A8"})}),(0,k.jsx)("button",{className:(0,o.Z)(m()["battle-button"],m()["attack"==f?"bbuton-scolor":"bbuton-color"]),onClick:g,value:"attack",children:(0,k.jsx)("div",{className:m()["battle-button-font"],children:"\u653B\u51FB"})}),(0,k.jsx)("button",{className:(0,o.Z)(m()["battle-button"],m()["skill"==f?"bbuton-scolor":"bbuton-color"]),onClick:g,value:"skill",children:(0,k.jsx)("div",{className:m()["battle-button-font"],children:"\u6280\u80FD"})}),(0,k.jsx)("button",{className:(0,o.Z)(m()["battle-button"],m()["items"==f?"bbuton-scolor":"bbuton-color"]),onClick:g,value:"items",children:(0,k.jsx)("div",{className:m()["battle-button-font"],children:"\u7269\u54C1"})}),(0,k.jsx)("button",{className:(0,o.Z)(m()["battle-button"],m()["def"==f?"bbuton-scolor":"bbuton-color"]),onClick:g,value:"def",children:(0,k.jsx)("div",{className:m()["battle-button-font"],children:"\u9632\u5FA1"})}),(0,k.jsx)("button",{className:(0,o.Z)(m()["battle-button"],m()["run"==f?"bbuton-scolor":"bbuton-color"]),onClick:g,value:"run",children:(0,k.jsx)("div",{className:m()["battle-button-font"],children:"\u9003\u8DD1"})})]}),(0,k.jsx)("div",{className:m()["battle-wutai"],children:(0,k.jsx)("div",{className:m()["battle-main"],children:au.map(function(a,b){return(0,k.jsx)("div",{className:(0,o.Z)(m()["battle-main-one"],m()[(null==a?void 0:a.select)=="g"?"battle-one-g-color":(null==a?void 0:a.select)=="r"?"battle-one-r-color":(null==a?void 0:a.select)=="gb"?"battle-one-gb-color":(null==a?void 0:a.select)=="rb"?"battle-one-rb-color":"battle-one-color"],m()[(null==a?void 0:a.self)?"battle-one-self":""]),onClick:aU,"data-value":b,children:(0,k.jsx)("div",{className:(0,o.Z)(m()["battle-ceil"],m()[(null==a?void 0:a.type)=="enemy"?"battle-ceil-enemy":(null==a?void 0:a.type)=="player"?"battle-ceil-player":""]),children:[0].map(function(){if(null==a?void 0:a.type){if((null==a?void 0:a.type)=="enemy"){var d,c=a3[null===(d=au[b])|| void 0===d?void 0:d.id];return(0,k.jsxs)("div",{children:[(0,k.jsx)("meter",{value:c.hp_,min:"0",max:c.hp,low:.2*c.hp,high:.5*c.hp,optimum:c.hp,className:m()["hp-ceil"]}),(0,k.jsx)("progress",{value:c.step,max:100*(1-c.speed/(c.speed+100)),className:m()["sp-ceil"]}),(0,k.jsx)("div",{className:m()["enemy-text-ceil"],children:c.name})]})}if((null==a?void 0:a.type)!="player")return(0,k.jsx)(k.Fragment,{});var e=u;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("meter",{value:e.hp,min:"0",max:e.hpmax,className:m()["hp-ceil"]}),(0,k.jsx)("progress",{value:u.step,max:100*(1-u.speed/(u.speed+100)),className:m()["sp-ceil"]}),(0,k.jsx)("div",{className:m()["player-text-ceil"],children:e.name})]})}})})})})})})]}),(0,k.jsxs)("div",{className:m()["battle-bottom"],children:[(0,k.jsx)("button",{onClick:Y,className:(0,o.Z)(m().checkbutton,m().buttonbackcolor,m().checkbuttonback),children:"\u8FD4\u56DE"}),at.reverse().map(function(a,b){return(0,k.jsx)("div",{className:m()["battle-text"],children:(0,k.jsx)("div",{children:a})})})]})]})})})}),aA=(0,k.jsxs)(k.Fragment,{children:[av,aw,ax,ay,az]});return(0,k.jsx)(k.Fragment,{children:aA})});c.getInitialProps=(i=h(e().mark(function a(b){var c;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,y();case 3:return c=a.sent,a.abrupt("return",c);case 7:throw a.prev=7,a.t0=a.catch(0),a.t0;case 10:case"end":return a.stop()}},a,null,[[0,7]])})),function(a){return i.apply(this,arguments)});var A=c},77372:function(a){a.exports={pages:"games_pages__dIoJg",maptop:"games_maptop__ndKeR",mapmid:"games_mapmid__Et9ok",mapdown:"games_mapdown__Qth30",midleft:"games_midleft__S46nR",midright:"games_midright__zPCaW",disable:"games_disable__WOMmQ",canable:"games_canable__AWaqL",titlemain:"games_titlemain__ZDtjc",titlesub:"games_titlesub__gg4nZ",buttontop:"games_buttontop__NYdop",buttondown:"games_buttondown__K6SOB",buttonleft:"games_buttonleft__936bf",buttonright:"games_buttonright__OTmj1",buttonmid:"games_buttonmid__9HlKF",leftava:"games_leftava__mln1O",leftscene:"games_leftscene__8Btdo",rightlocal:"games_rightlocal__gZedl",rightpeople:"games_rightpeople__YJnyS",rightenemy:"games_rightenemy__fCuqh","ant-image-preview-img":"games_ant-image-preview-img__zA5vH",logomain:"games_logomain__AlvoV",listoneout:"games_listoneout__d4kB5",listname:"games_listname__7Nb6K",listnamemaster:"games_listnamemaster__U13qG",buttonattackcolor:"games_buttonattackcolor__hb3vS",buttontalkcolor:"games_buttontalkcolor___ZZ1t",buttonbackcolor:"games_buttonbackcolor__V1oRN",buttonbuycolor:"games_buttonbuycolor__fmle0",buttondisablecolor:"games_buttondisablecolor__67r79",listdiv:"games_listdiv__iuHnV",listdivmaster:"games_listdivmaster__wx4Pw",listbutton:"games_listbutton__SR7Xp",inline:"games_inline__dqJXg",listone:"games_listone__4N24r",listall:"games_listall__4_3vk",checkdesc:"games_checkdesc__hmY5s",checkmasterdesc:"games_checkmasterdesc__HsK5A",checktitle:"games_checktitle__EsvHZ",checksub:"games_checksub__oVR0p",checkbutton:"games_checkbutton__LOmeI",checkbG:"games_checkbG__0Rlby",checkbuttonback:"games_checkbuttonback__TSs5Q",talkmain:"games_talkmain__hwqWy",talkbG:"games_talkbG__5LzLZ",buttonoption:"games_buttonoption__ZvCAH","battle-page":"games_battle-page__gyrEO","battle-page-main":"games_battle-page-main__E9t1L","battle-page-main2":"games_battle-page-main2__mEpr7","battle-top":"games_battle-top__3awoc","battle-mid":"games_battle-mid__Mg_Jj","battle-bottom":"games_battle-bottom__UYLow","battle-text":"games_battle-text__ihBpi","battle-left":"games_battle-left__wbDOK","battle-left-menu":"games_battle-left-menu__1uxa0","battle-right":"games_battle-right__8Ecbt","battle-wutai":"games_battle-wutai__8Iy6g","battle-main":"games_battle-main__eQfAX","battle-main-1":"games_battle-main-1__LBorm","battle-main-2":"games_battle-main-2__9vrxX","battle-main-one":"games_battle-main-one__pZL3P","battle-one-g-color":"games_battle-one-g-color__Owcfw","battle-one-r-color":"games_battle-one-r-color__4BLcI","battle-one-gb-color":"games_battle-one-gb-color__CxxmF","battle-one-rb-color":"games_battle-one-rb-color__Uazhg","battle-one-color":"games_battle-one-color__u99E4","battle-one-self":"games_battle-one-self__onaMN","battle-ceil":"games_battle-ceil__Osqeo","battle-ceil-enemy":"games_battle-ceil-enemy__Gb_7W","battle-ceil-player":"games_battle-ceil-player__oZeR2","hp-ceil":"games_hp-ceil__bj9cI","sp-ceil":"games_sp-ceil__3YQMb","enemy-text-ceil":"games_enemy-text-ceil__xYVip","player-text-ceil":"games_player-text-ceil__Hj9lW","battle-button":"games_battle-button__EPBnM","battle-button-sub":"games_battle-button-sub__FfKRK","bbuton-color":"games_bbuton-color__IUwEc","bbuton-sub-color":"games_bbuton-sub-color__ovJmF","bbuton-scolor":"games_bbuton-scolor__JiaHg","bbuton-sub-scolor":"games_bbuton-sub-scolor__gCqBt","battle-button-font":"games_battle-button-font__8Sonq","battle-button-sub-font":"games_battle-button-sub-font__akdwp",box:"games_box__LNdUd",mycenter:"games_mycenter__Eab3j",fontred:"games_fontred__xhuwH",fontblack:"games_fontblack__kp4ip",fontgreen:"games_fontgreen___9jIB",red:"games_red__E7ijp",green:"games_green__gYgat",header:"games_header__gNZ75","head-swiper":"games_head-swiper__xX4PI","head-info":"games_head-info__AjMbK",title:"games_title__iAXuR","more-button":"games_more-button__Pm_U8","header-logo":"games_header-logo__jVkqB","link-group":"games_link-group__SUbo_","anchor-ball":"games_anchor-ball___Rr4D","link-item":"games_link-item___ic38","link-title":"games_link-title__Atnh_",drawer:"games_drawer__d80LK",show:"games_show__BN3M1",parent:"games_parent__M2DOC",children:"games_children__iKKC0","children-wrapper":"games_children-wrapper__fYbBf","link-section":"games_link-section__li5Vd",hide:"games_hide__Fj2r7","nav-container":"games_nav-container__qJPn8",toggle:"games_toggle__4kfa0",desc:"games_desc__D6e0z","swipe-up":"games_swipe-up__ORV7J",meta:"games_meta__m0F00","site-info":"games_site-info__GK_Mm","swiper-metawrapper":"games_swiper-metawrapper__Wu_gP","sub-dropdown":"games_sub-dropdown__a3gQV",active:"games_active__mIvzh","right-wrapper":"games_right-wrapper__pIEZE","like-button":"games_like-button__kY1Z8"}}},function(a){a.O(0,[9774,2888,179],function(){return a(a.s=1697)}),_N_E=a.O()}])