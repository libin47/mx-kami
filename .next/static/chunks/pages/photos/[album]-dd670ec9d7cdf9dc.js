(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4402,426],{13236:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/photos/[album]",function(){return c(79921)}])},79921:function(g,b,a){"use strict";a.r(b),a.d(b,{"default":function(){return z}});var d=a(4544),h=a.n(d),i=a(62086),j=a(8419),c=a(67201),e=a(95930),k=a.n(e),l=a(93236),m=a(45595),n=a(12335),f=a(1991),o=a.n(f);function p(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}var q=(0,c.Pi)(function(b){var d,e,c=(0,l.useState)(),a=c[0],r=c[1],f=b.id,g=(b.title,b.slug),j=(b.created,b.album),s=(e=(d=h().mark(function a(){var b;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.x.photo.getPhotoByID(f);case 2:r(b=a.sent),console.log(b);case 5:case"end":return a.stop()}},a)}),function(){var a=this,b=arguments;return new Promise(function(e,f){var g=d.apply(a,b);function c(a){p(g,e,f,c,h,"next",a)}function h(a){p(g,e,f,c,h,"throw",a)}c(void 0)})}),function(){return e.apply(this,arguments)});(0,l.useEffect)(function(){s()},[f]);var q=(0,l.useCallback)(function(){k().push("/photos/[album]/[slug]","/photos/".concat(j,"/").concat(g)),(0,n.YG)()},[j,g]);return(0,i.jsx)("div",{className:o().main,children:(0,i.jsxs)("div",{className:o().album,onClick:q,children:[(0,i.jsxs)("div",{className:o().top,children:[(0,i.jsx)("img",{style:a&&a.photos.length<1?{display:"none"}:{},className:o().image0,src:"https://image.wind-watcher.cn/"+(null==a?void 0:a.photos[0])+"?w=512"}),(0,i.jsx)("img",{style:a&&a.photos.length<2?{display:"none"}:{},className:o().image1,src:"https://image.wind-watcher.cn/"+(null==a?void 0:a.photos[1])+"?w=512"}),(0,i.jsx)("img",{style:a&&a.photos.length<3?{display:"none"}:{},className:o().image2,src:"https://image.wind-watcher.cn/"+(null==a?void 0:a.photos[2])+"?w=512"}),(0,i.jsx)("img",{style:a&&a.photos.length<4?{display:"none"}:{},className:o().image3,src:"https://image.wind-watcher.cn/"+(null==a?void 0:a.photos[3])+"?w=512"}),(0,i.jsx)("img",{style:a&&a.photos.length<5?{display:"none"}:{},className:o().image4,src:"https://image.wind-watcher.cn/"+(null==a?void 0:a.photos[4])+"?w=512"})]}),(0,i.jsxs)("div",{className:o().down,children:[null==a?void 0:a.title,"(",null==a?void 0:a.photos.length,")"]})]})})}),r=a(21563),s=a(10298),t=a(9987),u=a(44742),v=a(22351),w=a(14302),x=a(32476);function y(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}var z=(0,c.Pi)(function(p){var k,n,b=(0,l.useState)(),c=b[0],z=b[1],d=(0,l.useState)([]),a=d[0],A=d[1],f=(0,e.useRouter)(),g=f.query.album,o="";"string"==typeof g&&(o=g),(0,l.useEffect)(function(){B()},[f.query.album]);var B=(n=(k=h().mark(function a(){var b;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.x.album.getAlbum(o);case 2:b=a.sent,console.log(b),z(b.data),A(b.data.children);case 6:case"end":return a.stop()}},a)}),function(){var a=this,b=arguments;return new Promise(function(d,e){var f=k.apply(a,b);function c(a){y(f,d,e,c,g,"next",a)}function g(a){y(f,d,e,c,g,"throw",a)}c(void 0)})}),function(){return n.apply(this,arguments)}),C=(0,x.I)({opacity:0,display:"inline-block",width:"12rem"},t.v);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(j.B,{title:"\u76F8\u96C6 - "+(null==c?void 0:c.name),subtitle:"\u5F53\u524D\u5171\u6709"+(null==a?void 0:a.length)+"\u4E2A\u76F8\u518C, \u52A0\u6CB9!",children:[(0,i.jsx)(w.H,{title:"\u76F8\u518C"}),(0,i.jsx)(v.Z,{children:(0,i.jsx)("article",{children:(null==a?void 0:a.length)>0?(0,i.jsx)(l.Fragment,{children:a.map(function(a,c){var b=a.id,d=a.title,e=a.slug,f=a.created;return(0,i.jsx)(C,{timeout:{enter:250*c},children:(0,i.jsx)(q,{title:d,id:b,slug:e,created:f,album:o})},b)})}):(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)(s.tL,{}),(0,i.jsx)("p",{children:"\u8FD9\u4E2A\u76F8\u96C6\u8FD8\u662F\u7A7A\u7684\u5594~"})]})},"album")}),(0,i.jsx)(r.e,{}),(0,i.jsx)(u.SearchFAB,{})]})})})},1991:function(a){a.exports={main:"AlbumDeBlock_main__YBvbb",album:"AlbumDeBlock_album__PhmJG",top:"AlbumDeBlock_top__vECW7",image0:"AlbumDeBlock_image0___5XGu",image1:"AlbumDeBlock_image1__33RqE",image2:"AlbumDeBlock_image2__bBhcY",image3:"AlbumDeBlock_image3__8kt_O",image4:"AlbumDeBlock_image4__swejC",down:"AlbumDeBlock_down__Hvw6a",head:"AlbumDeBlock_head__5vqQ2",title:"AlbumDeBlock_title__oADSw",text:"AlbumDeBlock_text___BE1l",btn:"AlbumDeBlock_btn__QYLaB","gradual-change":"AlbumDeBlock_gradual-change__Tvwkl",navigator:"AlbumDeBlock_navigator__Ay_Pc","post-image-preview":"AlbumDeBlock_post-image-preview__e_WZb","has-image":"AlbumDeBlock_has-image__n_V_X"}}},function(a){a.O(0,[3108,298,4742,7673,9774,2888,179],function(){return a(a.s=13236)}),_N_E=a.O()}])