(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[60],{73859:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/photos/[album]/[slug]",function(){return c(90308)}])},8419:function(g,c,a){"use strict";a.d(c,{B:function(){return q}});var h=a(62086),b=a(93236),i=a(9987),d=(0,b.createContext)({}),j=d.Provider,e=a(80606),k=a.n(e),f=a(67201),l=a(32872),m=a(36872),n=a(38325),o=(0,f.Pi)(function(r){var f=r.animate,g=void 0===f||f,i=(0,n.oR)().userStore,c=(0,b.useContext)(d),e=c.title,j=c.type,o=c.id,a=c.subtitle,p=c.subtitleAnimation,s=i.isLogged,q=i.url;return e?(0,h.jsxs)("section",{className:k()["post-title"],children:[(0,h.jsxs)("h1",{className:k().h1,suppressHydrationWarning:!0,children:[(0,l.S_)()?(0,h.jsx)(m.S,{appear:g,children:e},e):e,j&&o&&s&&q?(0,h.jsx)("a",{className:"edit-link float-right text-green",target:"_blank",href:(0,l.Kk)("#/".concat("page"===j?"pages":"posts","/edit?id=").concat(o),q.adminUrl),children:"\u7F16\u8F91"}):null]}),a&&(0,h.jsx)("h2",{suppressHydrationWarning:!0,children:(0,l.S_)()&&(void 0===p||p)?"string"==typeof a?(0,h.jsx)(m.S,{appear:g,children:a},a):a.map(function(c,b){return(0,h.jsx)(m.S,{appear:g,className:"mb-2",delay:b,children:c},a[b])}):a})]}):null});function p(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var q=(0,b.memo)((0,b.forwardRef)(function(a,e){var f=a.children,g=a.title,l=a.subtitle,m=a.delay,c=a.type,d=a.id,n=a.titleAnimate,q=function(a,d){if(null==a)return{};var b,c,e=function(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}(a,d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)b=f[c],!(d.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(a,b)&&(e[b]=a[b])}return e}(a,["children","title","subtitle","delay","type","id","titleAnimate"]);return(0,h.jsx)(j,{value:{title:g,id:d,subtitle:l,type:c},children:(0,h.jsxs)("main",function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){p(d,a,c[a])})}return d}({className:k()["is-article"],ref:e},q,{id:"article-wrap","data-type":c,children:[(0,h.jsx)(o,{animate:n}),(0,h.jsx)(i._,{timeout:(0,b.useMemo)(function(){return{enter:null!=m?m:300}},[m]),children:f},d)]}))})}))},36872:function(f,d,b){"use strict";b.d(d,{S:function(){return l}});var g=b(62086),e=b(12335);function h(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function i(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function j(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){i(d,a,c[a])})}return d}var a,c,k=(a=(0,e.UU)("text-up",{translateY:"10px",opacity:0},{translateY:"0px",opacity:1}),c=1,function(a){if(Array.isArray(a))return a}(a)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,c)||function(a,c){if(a){if("string"==typeof a)return h(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return h(a,c)}}(a,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],l=function(a){var c=a.duration,i=void 0===c?500:c,d=a.appear,e=a.delay,l=void 0===e?100:e,f=a.children,b=a.text,h=function(a,d){if(null==a)return{};var b,c,e=function(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}(a,d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)b=f[c],!(d.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(a,b)&&(e[b]=a[b])}return e}(a,["duration","appear","delay","children","text"]);return void 0===d||d?(0,g.jsx)("div",j({},h,{children:Array.from(null!=b?b:f).map(function(b,a){return(0,g.jsx)("span",{className:"inline-block whitespace-pre",style:{animation:"".concat(k," ").concat(i,"ms both linear"),animationDelay:"".concat(a*l,"ms")},children:b},a)})})):(0,g.jsx)("div",j({},h,{children:null!=b?b:f}))}},32476:function(c,b,a){"use strict";a.d(b,{I:function(){return h}});var d=a(62086),e=a(35658);function f(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function g(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){f(d,a,c[a])})}return d}var h=function(a,b){return function(c){var h=c.id,j=c.className,f=c.component,k=void 0===f?"div":f,i=function(a,d){if(null==a)return{};var b,c,e=function(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}(a,d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)b=f[c],!(d.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(a,b)&&(e[b]=a[b])}return e}(c,["id","className","component"]);return(0,d.jsx)(e.ZP,g({in:!0,appear:!0,mountOnEnter:!0,unmountOnExit:!0,timeout:0},i,{children:function(e){return(0,d.jsx)(k,{style:g({},a,b[e]),className:j,children:c.children})}}),h)}}},9987:function(g,c,a){"use strict";a.d(c,{"_":function(){return h},v:function(){return f}});var d=a(12335),e=a(32476),b="bottom-up-spring";(0,d.UU)(b,{translateY:"3em",opacity:0},{translateY:"0em",opacity:1});var f={entering:{opacity:0},entered:{animation:"".concat(b," 1000ms steps(60) both"),opacity:1},exiting:{animation:"".concat(b," 1000ms steps(60) both reverse"),opacity:1},exited:{opacity:0}},h=(0,e.I)({opacity:0},f)},90308:function(f,b,a){"use strict";a.r(b);var c=a(4544),g=a.n(c),h=a(62086),i=a(8419),d=a(67201),j=a(95930),k=a(93236),l=a(38325),m=a(45595),n=a(10298),o=a(9987),p=a(22351),q=a(14302),r=a(32476),s=a(97296);function t(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}a(85591);var e=(0,d.Pi)(function(C){var c,d,e,x,y,f=(0,k.useState)(),a=f[0],D=f[1],u=(0,l.oR)().appStore.viewport,b=(0,j.useRouter)(),v=b.query.album,w=b.query.slug,z="",A="";"string"==typeof v&&(z=v),"string"==typeof w&&(A=w),(0,k.useEffect)(function(){E()},[b.query.album,b.query.slug]);var E=(y=(x=g().mark(function a(){var b;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.x.photo.getPhotoBySlug(z,A);case 2:D(b=a.sent);case 4:case"end":return a.stop()}},a)}),function(){var a=this,b=arguments;return new Promise(function(d,e){var f=x.apply(a,b);function c(a){t(f,d,e,c,g,"next",a)}function g(a){t(f,d,e,c,g,"throw",a)}c(void 0)})}),function(){return y.apply(this,arguments)}),B=(null==u?void 0:u.mobile)?{opacity:0,display:"inline-block",width:"50%",height:"120px"}:{opacity:0,display:"inline-block",width:"50%",height:"200px"},F=(0,r.I)(B,o.v);return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(i.B,{title:(null==a?void 0:null===(c=a.album)|| void 0===c?void 0:c.name)+"-"+(null==a?void 0:a.title),subtitle:["\u5171\u6709"+(null==a?void 0:null===(d=a.photos)|| void 0===d?void 0:d.length)+"\u5F20\u76F8\u7247",(null==a?void 0:a.text)?a.text:""],children:[(0,h.jsx)(q.H,{title:"\u76F8\u518C"}),(0,h.jsx)(p.Z,{children:a&&(null==a?void 0:null===(e=a.photos)|| void 0===e?void 0:e.length)>0?(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(s.Z.PreviewGroup,{children:a.photos.map(function(a,b){return(0,h.jsx)(F,{timeout:{enter:250*b},children:(0,h.jsx)(s.Z,{style:{objectFit:"contain",padding:"0.5rem"},width:"100%",src:"https://image.wind-watcher.cn/"+a})},a)})})}):(0,h.jsxs)("div",{className:"flex flex-col",children:[(0,h.jsx)(n.tL,{}),(0,h.jsx)("p",{children:"\u8FD9\u4E2A\u76F8\u96C6\u8FD8\u662F\u7A7A\u7684\u5594~"})]})})]})})});b.default=e},80606:function(a){a.exports={"post-title":"ArticleLayout_post-title__Zf0kJ","is-article":"ArticleLayout_is-article__uLhmt",h1:"ArticleLayout_h1__tk6Mj"}}},function(a){a.O(0,[7187,4922,3819,298,9774,2888,179],function(){return a(a.s=73859)}),_N_E=a.O()}])