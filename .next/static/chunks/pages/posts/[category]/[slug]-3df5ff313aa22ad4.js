(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9851,426],{3330:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/posts/[category]/[slug]",function(){return c(40586)}])},73968:function(c,b,a){"use strict";a.d(b,{i:function(){return j},x:function(){return k}});var d=a(62086),e=a(51626);function f(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function g(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){f(d,a,c[a])})}return d}function h(a,d){if(null==a)return{};var b,c,e=i(a,d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)b=f[c],!(d.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(a,b)&&(e[b]=a[b])}return e}function i(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}var j=function(a){var b=a.className,c=h(a,["className"]);return(0,d.jsx)("hr",g({className:(0,e.Z)("border-0 h-[0.5px] my-4 !bg-opacity-30 bg-black dark:bg-white",b)},c))},k=function(a){var b=a.className,c=h(a,["className"]);return(0,d.jsx)("span",g({className:(0,e.Z)("!bg-opacity-30 bg-black dark:bg-white inline-block h-full mx-4 w-[0.5px] text-transparent",b)},c,{children:"w"}))}},88903:function(c,b,a){"use strict";a.d(b,{q:function(){return h}});var d=a(62086),e=a(67201),f=a(93236),g=a(68946);function h(a,b){return(0,e.Pi)(function(c){var e=a.get(c.id);return((0,f.useEffect)(function(){a.add(c)},[c.id]),e)?(0,d.jsx)(b,{id:e.id}):(0,d.jsx)(g.g,{})})}},54575:function(e,b,a){"use strict";a.d(b,{Z:function(){return h}});var f=a(62086),c=a(93236),d=a(2038),g=a.n(d),h=(0,c.memo)(function(a){return(0,f.jsx)(g(),{value:a.number,transition:500,className:a.className})})},89931:function(e,b,a){"use strict";a.d(b,{B:function(){return l}});var f=a(62086),g=a(51626),c=a(93236),h=a(85782),i=a(10298),d=a(12192),j=a.n(d);function k(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var l=(0,c.memo)(function(a){var b=a.actions,d=a.informs,e=a.copyright,l=function(a,d){if(null==a)return{};var b,c,e=function(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}(a,d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)b=f[c],!(d.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(a,b)&&(e[b]=a[b])}return e}(a,["actions","informs","copyright"]);return(0,f.jsxs)("div",{className:j().root,"data-hide-print":!0,children:[(0,f.jsxs)("div",function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){k(d,a,c[a])})}return d}({className:"note-inform space-x-3"},l,{children:[(void 0===d?[]:d).map(function(a,b){var d=(0,f.jsxs)("span",{className:"inline-flex items-center space-x-2",children:[a.icon&&(0,f.jsx)("span",{className:"flex items-center mr-2",style:{color:a.color},children:a.icon}),a.name]});return(0,f.jsx)(c.Fragment,{children:a.tip?(0,f.jsx)(h.r,{triggerComponent:function(){return d},wrapperClassNames:"inline-flex items-center",children:m(a.tip)}):d},b)}),(void 0===e||e)&&(0,f.jsx)("a",{href:"https://creativecommons.org/licenses/by-nc-nd/4.0/",target:"_blank",className:"inline-flex items-center text-current cursor-pointer",children:(0,f.jsx)("span",{title:"\u521B\u4F5C\u5171\u7528\u4FDD\u7559\u7F72\u540D-\u975E\u5546\u4E1A-\u7981\u6B62\u6F14\u7ECE4.0\u56FD\u9645\u8BB8\u53EF\u8BC1",className:"inline-flex items-center",children:(0,f.jsx)(i.w2,{})})})]})),(0,f.jsx)("div",{className:"note-action min-h-4 space-x-4",children:(void 0===b?[]:b).map(function(a,b){if(!a)return null;var d=a.wrapperComponent||c.Fragment,e=(0,f.jsx)("span",{className:(0,g.Z)(!!a.callback&&"cursor-pointer","inline-flex items-center space-x-2"),onClick:a.callback,children:(0,f.jsxs)(d,{children:[a.icon&&(0,f.jsx)("span",{className:"inline-flex items-center",style:{color:a.color},children:a.icon}),a.name]})});return(0,f.jsx)(c.Fragment,{children:a.tip?(0,f.jsx)(h.r,{triggerComponent:function(){return e},wrapperClassNames:"inline-flex items-center",children:m(a.tip)}):e},b)})})]})}),m=function(a){return"function"==typeof a?(0,c.createElement)(a):a}},46992:function(d,b,a){"use strict";a.d(b,{E:function(){return j}});var e=a(62086),c=a(93236),f=a(48629),g=a(85782),h=a(27625),i=a(92644),j=(0,c.memo)(function(d){var a=(0,i.LU)().function.donate.qrcode,b=void 0===a?[]:a,j=(0,c.useMemo)(function(){return(0,e.jsx)(e.Fragment,{children:d.children})},[d.children]);return b.length?(0,e.jsx)(g.r,{wrapperClassNames:"inline-flex items-center",middleware:[(0,f.X5)({autoAlignment:!0}),(0,f.uY)(),(0,f.cv)(10),],triggerComponent:function(){return j},children:(0,e.jsx)(h.X,{trackerMessage:"\u66DD\u5149 - \u8D44\u52A9\u5F39\u5C42",children:(0,e.jsx)("div",{className:"flex space-x-2",children:b.map(function(a){return(0,e.jsx)("img",{src:a,className:"w-[300px]"})})})})}):j})},40586:function(p,b,a){"use strict";a.r(b),a.d(b,{PostView:function(){return o},"default":function(){return X}});var f=a(4544),g=a.n(f),q=a(62086),r=a(29592),h=a(71384),s=a.n(h),t=a(50279),u=a(19360),c=a(67201),i=a(37937),v=a.n(i),w=a(95930),x=a(93236),y=a(39137),z=a(8419),A=a(10298),j=a(88903),B=a(9258),C=a(54575),D=a(58443);function E(b){var a=b.time;return s()().diff(s()(a),"day")>60?(0,q.jsxs)("blockquote",{style:{marginBottom:"5rem"},children:["\u8FD9\u7BC7\u6587\u7AE0\u4E0A\u6B21\u4FEE\u6539\u4E8E ",(0,q.jsx)(D.i,{date:new Date(a)}),"\uFF0C\u53EF\u80FD\u5176\u90E8\u5206\u5185\u5BB9\u5DF2\u7ECF\u53D1\u751F\u53D8\u5316\uFF0C\u5982\u6709\u7591\u95EE\u53EF\u8BE2\u95EE\u4F5C\u8005\u3002"]}):null}var F=a(14302),G=a(89931),H=a(821),I=a(46992),J=a(44742),K=a(61837),L=a(92644),M=a(21865),k=a(38325),N=a(45595),O=a(12335),P=a(73968),l=a(29589),Q=a.n(l),R=(0,c.Pi)(function(a){var c=a.title,d=a.link,b=a.date,e=(0,k.oR)(),f=e.userStore.name;return(0,q.jsxs)("section",{className:Q()["copyright-session"],id:"copyright",children:[(0,q.jsxs)("p",{children:["\u6587\u7AE0\u6807\u9898: ",c]}),(0,q.jsxs)("p",{children:["\u6587\u7AE0\u4F5C\u8005: ",f]}),(0,q.jsxs)("p",{children:["\u6587\u7AE0\u94FE\u63A5: ",(0,q.jsx)("span",{children:d})," ",(0,q.jsx)("a",{onClick:function(){navigator.clipboard.writeText(d)},"data-hide-print":!0,children:"[\u590D\u5236]"})]}),(0,q.jsxs)("p",{children:["\u6700\u540E\u4FEE\u6539\u65F6\u95F4:"," ",b?s()(b).format("YYYY\u5E74MM\u6708DD\u65E5 H:mm"):"\u6682\u6CA1\u6709\u4FEE\u6539\u8FC7"]}),(0,q.jsx)(P.i,{}),(0,q.jsx)("div",{children:(0,q.jsxs)("p",{children:["\u5546\u4E1A\u8F6C\u8F7D\u8BF7\u8054\u7CFB\u7AD9\u957F\u83B7\u5F97\u6388\u6743\uFF0C\u975E\u5546\u4E1A\u8F6C\u8F7D\u8BF7\u6CE8\u660E\u672C\u6587\u51FA\u5904\u53CA\u6587\u7AE0\u94FE\u63A5\uFF0C\u672A\u7ECF\u7AD9\u957F\u5141\u8BB8\u4E0D\u5F97\u5BF9\u6587\u7AE0\u6587\u5B57\u5185\u5BB9\u8FDB\u884C\u4FEE\u6539\u6F14\u7ECE\u3002",(0,q.jsx)("br",{}),"\u672C\u6587\u91C7\u7528",(0,q.jsx)("a",{href:"https://creativecommons.org/licenses/by-nc-nd/4.0/",children:"\u521B\u4F5C\u5171\u7528\u4FDD\u7559\u7F72\u540D-\u975E\u5546\u4E1A-\u7981\u6B62\u6F14\u7ECE4.0\u56FD\u9645\u8BB8\u53EF\u8BC1"})]})})]})}),d=a(32872);function S(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function T(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,U=d.D2,V=d.MO,W=function(c){var b,a=k.h.postStore.get(c),d=(0,x.useRef)(),e=(0,w.useRouter)();(0,x.useEffect)(function(){var c,b=d.current;if(!b&&a){d.current=(0,u.ZN)(a);return}if(b&&a){if(b.id===a.id){if((0,t.Z)(b,a))return;if(b.categoryId!==a.categoryId||b.slug!==a.slug&&(null===(c=a.category)|| void 0===c?void 0:c.slug)){e.replace("/posts/"+"".concat(a.category.slug,"/").concat(a.slug),void 0,{shallow:!0,scroll:!1});return}if(a.isDeleted){e.push("/posts"),y.yw.error("\u6587\u7AE0\u5DF2\u5220\u9664\u6216\u9690\u85CF");return}y.yw.info("\u6587\u7AE0\u5DF2\u66F4\u65B0")}d.current=(0,u.ZN)(a)}},[null==a?void 0:a.id,null==a?void 0:a.slug,null==a?void 0:a.categoryId,null==a?void 0:a.text,null==a?void 0:a.summary,null==a?void 0:null===(b=a.category)|| void 0===b?void 0:b.slug,null==a?void 0:a.isDeleted,])},o=(0,c.Pi)(function(g){var b,c,m,a=(0,k.oR)().postStore.get(g.id)||d.ZT,e=(0,x.useState)({}),h=e[0],n=e[1],i=null!==(b=a.summary)&& void 0!==b?b:(0,d.D_)(a.text).slice(0,150),f=(0,L.LU)().function.donate,j=(0,L.L6)().url.webUrl;(0,x.useEffect)(function(){(0,O.YG)()},[a.id]);var l=s()(a.created).locale("cn").format("YYYY\u5E74M\u6708D\u65E5");return(0,x.useEffect)(function(){var b,c;n({informs:[{icon:(0,q.jsx)(A.EP,{}),name:l},{icon:(0,q.jsx)(A.n_,{}),name:"".concat(a.category.name).concat(a.tags.length?"[".concat(a.tags[0],"]"):""),tip:function(){return(0,q.jsxs)("div",{className:"leading-7",children:[(0,q.jsxs)("p",{children:["\u5206\u7C7B\uFF1A",(0,q.jsx)(v(),{href:"/categories/".concat(a.category.slug),children:(0,q.jsx)("a",{children:a.category.name})})]}),(0,q.jsx)("p",{children:a.tags.length?"\u6807\u7B7E\uFF1A".concat(a.tags.join(", ")):""})]})}},{icon:(0,q.jsx)(A.NM,{}),name:null!==(c=a.count.read)&& void 0!==c?c:0},],actions:[f.enable&&{icon:(0,q.jsx)(A.j,{}),name:"",wrapperComponent:I.E,callback:function(){window.open(f.link)}},{icon:(0,q.jsx)(A.UB,{}),name:(0,q.jsx)("span",{className:"leading-[1.1] inline-flex items-center",children:(0,q.jsx)(C.Z,{number:(null===(b=a.count)|| void 0===b?void 0:b.like)||0})}),color:V(a.id)?"#f1c40f":void 0,callback:function(){if(V(a.id))return y.yw.error("\u4F60\u5DF2\u7ECF\u652F\u6301\u8FC7\u5566!");N.x.post.thumbsUp(a.id).then(function(){y.yw.success("\u611F\u8C22\u652F\u6301!"),U(a.id),a.count.like=a.count.like+1})}},],copyright:a.copyright})},[a.id,a.category.name,a.copyright,a.count.read,a.tags,f.enable,f.link,a.count.like,a.count,l,a.category.slug,]),(0,K.Z)(a.title,a.category.name),(0,K.Q)(a.title,a.text),W(a.id),(0,M.e9)(.2),(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(F.p,{title:a.title,description:i,openGraph:{type:"article",article:{publishedTime:a.created,modifiedTime:a.modified||void 0,section:a.category.name,tags:null!==(c=a.tags)&& void 0!==c?c:[]}}}),(0,q.jsxs)(z.B,{title:a.title,id:a.id,type:"post",titleAnimate:!1,children:[(0,x.useMemo)(function(){return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(E,{time:a.modified||a.created}),(0,q.jsx)(r.Qd.Provider,{value:(0,d.Gj)(a.images),children:(0,q.jsxs)("article",{children:[(0,q.jsx)("h1",{className:"sr-only",children:a.title}),(0,q.jsx)(B.U,{codeBlockFully:!0,value:a.text,escapeHtml:!1,toc:!0})]})}),a.copyright&&(0,d.S_)()?(0,q.jsx)(R,{date:a.modified,link:new URL(location.pathname,j).toString(),title:a.title}):null,(0,q.jsx)(G.B,function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){T(d,a,c[a])})}return d}({},h)),(0,q.jsx)(H.pT,{id:a.id,allowComment:null===(m=a.allowComment)|| void 0===m||m},a.id)]})},[h,a.allowComment,a.copyright,a.created,a.id,a.images,a.modified,a.text,a.title,j,]),(0,q.jsx)(J.SearchFAB,{})]})]})}),e=(0,j.q)(k.h.postStore,o);e.getInitialProps=(n=(m=g().mark(function a(b){var c,d,e,f;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=(c=b.query).category,e=c.slug,a.next=4,k.h.postStore.fetchBySlug(d,e);case 4:return f=a.sent,a.abrupt("return",f);case 6:case"end":return a.stop()}},a)}),function(){var a=this,b=arguments;return new Promise(function(d,e){var f=m.apply(a,b);function c(a){S(f,d,e,c,g,"next",a)}function g(a){S(f,d,e,c,g,"throw",a)}c(void 0)})}),function(a){return n.apply(this,arguments)});var X=e},12192:function(a){a.exports={icon:"ArticleAction_icon__gRaNV",root:"ArticleAction_root__ZBwKD"}},29589:function(a){a.exports={"copyright-session":"Copyright_copyright-session__UTT9k"}}},function(a){a.O(0,[3108,9106,5496,9635,1774,2226,1041,298,9258,4742,1286,1761,9774,2888,179],function(){return a(a.s=3330)}),_N_E=a.O()}])