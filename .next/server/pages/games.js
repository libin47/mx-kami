(() => {
var exports = {};
exports.id = 8451;
exports.ids = [8451];
exports.modules = {

/***/ 66825:
/***/ ((module) => {

// Exports
module.exports = {
	"pages": "games_pages__dIoJg",
	"maptop": "games_maptop__ndKeR",
	"mapmid": "games_mapmid__Et9ok",
	"mapdown": "games_mapdown__Qth30",
	"midleft": "games_midleft__S46nR",
	"midright": "games_midright__zPCaW",
	"disable": "games_disable__WOMmQ",
	"canable": "games_canable__AWaqL",
	"titlemain": "games_titlemain__ZDtjc",
	"titlesub": "games_titlesub__gg4nZ",
	"buttontop": "games_buttontop__NYdop",
	"buttondown": "games_buttondown__K6SOB",
	"buttonleft": "games_buttonleft__936bf",
	"buttonright": "games_buttonright__OTmj1",
	"buttonmid": "games_buttonmid__9HlKF",
	"leftava": "games_leftava__mln1O",
	"leftscene": "games_leftscene__8Btdo",
	"rightlocal": "games_rightlocal__gZedl",
	"rightpeople": "games_rightpeople__YJnyS",
	"rightenemy": "games_rightenemy__fCuqh",
	"ant-image-preview-img": "games_ant-image-preview-img__zA5vH",
	"logomain": "games_logomain__AlvoV",
	"listoneout": "games_listoneout__d4kB5",
	"listname": "games_listname__7Nb6K",
	"listnamemaster": "games_listnamemaster__U13qG",
	"buttonattackcolor": "games_buttonattackcolor__hb3vS",
	"buttontalkcolor": "games_buttontalkcolor___ZZ1t",
	"buttonbackcolor": "games_buttonbackcolor__V1oRN",
	"buttonbuycolor": "games_buttonbuycolor__fmle0",
	"buttondisablecolor": "games_buttondisablecolor__67r79",
	"listdiv": "games_listdiv__iuHnV",
	"listdivmaster": "games_listdivmaster__wx4Pw",
	"listbutton": "games_listbutton__SR7Xp",
	"inline": "games_inline__dqJXg",
	"listone": "games_listone__4N24r",
	"listall": "games_listall__4_3vk",
	"checkdesc": "games_checkdesc__hmY5s",
	"checkmasterdesc": "games_checkmasterdesc__HsK5A",
	"checktitle": "games_checktitle__EsvHZ",
	"checksub": "games_checksub__oVR0p",
	"checkbutton": "games_checkbutton__LOmeI",
	"checkbG": "games_checkbG__0Rlby",
	"checkbuttonback": "games_checkbuttonback__TSs5Q",
	"talkmain": "games_talkmain__hwqWy",
	"talkbG": "games_talkbG__5LzLZ",
	"buttonoption": "games_buttonoption__ZvCAH",
	"battle-page": "games_battle-page__gyrEO",
	"battle-page-main": "games_battle-page-main__E9t1L",
	"battle-page-main2": "games_battle-page-main2__mEpr7",
	"battle-top": "games_battle-top__3awoc",
	"battle-mid": "games_battle-mid__Mg_Jj",
	"battle-bottom": "games_battle-bottom__UYLow",
	"battle-text": "games_battle-text__ihBpi",
	"battle-left": "games_battle-left__wbDOK",
	"battle-left-menu": "games_battle-left-menu__1uxa0",
	"battle-right": "games_battle-right__8Ecbt",
	"battle-wutai": "games_battle-wutai__8Iy6g",
	"battle-main": "games_battle-main__eQfAX",
	"battle-main-1": "games_battle-main-1__LBorm",
	"battle-main-2": "games_battle-main-2__9vrxX",
	"battle-main-one": "games_battle-main-one__pZL3P",
	"battle-one-g-color": "games_battle-one-g-color__Owcfw",
	"battle-one-r-color": "games_battle-one-r-color__4BLcI",
	"battle-one-gb-color": "games_battle-one-gb-color__CxxmF",
	"battle-one-rb-color": "games_battle-one-rb-color__Uazhg",
	"battle-one-color": "games_battle-one-color__u99E4",
	"battle-one-self": "games_battle-one-self__onaMN",
	"battle-ceil": "games_battle-ceil__Osqeo",
	"battle-ceil-enemy": "games_battle-ceil-enemy__Gb_7W",
	"battle-ceil-player": "games_battle-ceil-player__oZeR2",
	"hp-ceil": "games_hp-ceil__bj9cI",
	"sp-ceil": "games_sp-ceil__3YQMb",
	"enemy-text-ceil": "games_enemy-text-ceil__xYVip",
	"player-text-ceil": "games_player-text-ceil__Hj9lW",
	"battle-button": "games_battle-button__EPBnM",
	"battle-button-sub": "games_battle-button-sub__FfKRK",
	"bbuton-color": "games_bbuton-color__IUwEc",
	"bbuton-sub-color": "games_bbuton-sub-color__ovJmF",
	"bbuton-scolor": "games_bbuton-scolor__JiaHg",
	"bbuton-sub-scolor": "games_bbuton-sub-scolor__gCqBt",
	"battle-button-font": "games_battle-button-font__8Sonq",
	"battle-button-sub-font": "games_battle-button-sub-font__akdwp",
	"box": "games_box__LNdUd",
	"mycenter": "games_mycenter__Eab3j",
	"fontred": "games_fontred__xhuwH",
	"fontblack": "games_fontblack__kp4ip",
	"fontgreen": "games_fontgreen___9jIB",
	"red": "games_red__E7ijp",
	"green": "games_green__gYgat",
	"header": "games_header__gNZ75",
	"head-swiper": "games_head-swiper__xX4PI",
	"head-info": "games_head-info__AjMbK",
	"title": "games_title__iAXuR",
	"more-button": "games_more-button__Pm_U8",
	"header-logo": "games_header-logo__jVkqB",
	"link-group": "games_link-group__SUbo_",
	"anchor-ball": "games_anchor-ball___Rr4D",
	"link-item": "games_link-item___ic38",
	"link-title": "games_link-title__Atnh_",
	"drawer": "games_drawer__d80LK",
	"show": "games_show__BN3M1",
	"parent": "games_parent__M2DOC",
	"children": "games_children__iKKC0",
	"children-wrapper": "games_children-wrapper__fYbBf",
	"link-section": "games_link-section__li5Vd",
	"hide": "games_hide__Fj2r7",
	"nav-container": "games_nav-container__qJPn8",
	"toggle": "games_toggle__4kfa0",
	"desc": "games_desc__D6e0z",
	"swipe-up": "games_swipe-up__ORV7J",
	"meta": "games_meta__m0F00",
	"site-info": "games_site-info__GK_Mm",
	"swiper-metawrapper": "games_swiper-metawrapper__Wu_gP",
	"sub-dropdown": "games_sub-dropdown__a3gQV",
	"active": "games_active__mIvzh",
	"right-wrapper": "games_right-wrapper__pIEZE",
	"like-button": "games_like-button__kY1Z8"
};


/***/ }),

/***/ 7839:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "hk": () => (/* binding */ BuildIcon),
/* harmony export */   "t0": () => (/* binding */ PeopleIcon),
/* harmony export */   "yR": () => (/* binding */ MasterIcon)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);

function MasterIcon(props) {
    return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("svg", {
        width: "3em",
        height: "3em",
        xmlns: "http://www.w3.org/2000/svg",
        viewBox: "0 0 512 512",
        children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("path", {
            fill: "currentColor",
            d: "M416 400V464C416 490.5 394.5 512 368 512H320V464C320 455.2 312.8 448 304 448C295.2 448 288 455.2 288 464V512H224V464C224 455.2 216.8 448 208 448C199.2 448 192 455.2 192 464V512H144C117.5 512 96 490.5 96 464V400C96 399.6 96 399.3 96.01 398.9C37.48 357.8 0 294.7 0 224C0 100.3 114.6 0 256 0C397.4 0 512 100.3 512 224C512 294.7 474.5 357.8 415.1 398.9C415.1 399.3 416 399.6 416 400V400zM160 192C124.7 192 96 220.7 96 256C96 291.3 124.7 320 160 320C195.3 320 224 291.3 224 256C224 220.7 195.3 192 160 192zM352 320C387.3 320 416 291.3 416 256C416 220.7 387.3 192 352 192C316.7 192 288 220.7 288 256C288 291.3 316.7 320 352 320z"
        })
    });
}
function PeopleIcon(props) {
    return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("svg", {
        width: "3em",
        height: "3em",
        xmlns: "http://www.w3.org/2000/svg",
        viewBox: "0 0 320 512",
        children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("path", {
            fill: "currentColor",
            d: "M315.1 271l-70.56-112.1C232.8 139.3 212.5 128 190.3 128H129.7c-22.22 0-42.53 11.25-54.28 30.09L4.873 271c-9.375 14.98-4.812 34.72 10.16 44.09c15 9.375 34.75 4.812 44.09-10.19l28.88-46.18L87.1 480c0 17.67 14.33 32 32 32c17.67 0 31.1-14.33 31.1-32l0-144h16V480c0 17.67 14.33 32 32 32c17.67 0 32-14.33 32-32V258.8l28.88 46.2C266.9 314.7 277.4 320 288 320c5.781 0 11.66-1.562 16.94-4.859C319.9 305.8 324.5 286 315.1 271zM160 96c26.5 0 48-21.5 48-48S186.5 0 160 0C133.5 0 112 21.5 112 48S133.5 96 160 96z"
        })
    });
}
function BuildIcon(props) {
    return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("svg", {
        width: "3em",
        height: "3em",
        xmlns: "http://www.w3.org/2000/svg",
        viewBox: "0 0 640 512",
        children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("path", {
            fill: "currentColor",
            d: "M344 48H376C389.3 48 400 58.75 400 72C400 85.25 389.3 96 376 96H344V142.4L456.7 210C471.2 218.7 480 234.3 480 251.2V512H384V416C384 380.7 355.3 352 320 352C284.7 352 256 380.7 256 416V512H160V251.2C160 234.3 168.8 218.7 183.3 210L296 142.4V96H264C250.7 96 240 85.25 240 72C240 58.75 250.7 48 264 48H296V24C296 10.75 306.7 0 320 0C333.3 0 344 10.75 344 24V48zM24.87 330.3L128 273.6V512H48C21.49 512 0 490.5 0 464V372.4C0 354.9 9.53 338.8 24.87 330.3V330.3zM592 512H512V273.6L615.1 330.3C630.5 338.8 640 354.9 640 372.4V464C640 490.5 618.5 512 592 512V512z"
        })
    });
}


/***/ }),

/***/ 78602:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var mobx_react_lite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(45944);
/* harmony import */ var mobx_react_lite__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mobx_react_lite__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16689);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _games_module_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(66825);
/* harmony import */ var _games_module_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_games_module_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var utils_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(9908);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(68103);
/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(clsx__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var components_universal_Icons_games__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(7839);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([utils_client__WEBPACK_IMPORTED_MODULE_3__]);
utils_client__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];








// import {Motion, spring, presets} from "react-motion";
// 联网获取数据
async function getGameData() {
    const [dataMapState, dataPeopleState, dataEnemyState, dataEnemyGroupState, dataItemState, dataMapSetState, dataEventState, dataOptionState, dataTalkState, dataWorldMapState, dataPlayerState, dataAiState] = await Promise.allSettled([
        utils_client__WEBPACK_IMPORTED_MODULE_3__/* .apiClient.snippet.getByReferenceAndName */ .x.snippet.getByReferenceAndName("game", "Map"),
        utils_client__WEBPACK_IMPORTED_MODULE_3__/* .apiClient.snippet.getByReferenceAndName */ .x.snippet.getByReferenceAndName("game", "People"),
        utils_client__WEBPACK_IMPORTED_MODULE_3__/* .apiClient.snippet.getByReferenceAndName */ .x.snippet.getByReferenceAndName("game", "Enemy"),
        utils_client__WEBPACK_IMPORTED_MODULE_3__/* .apiClient.snippet.getByReferenceAndName */ .x.snippet.getByReferenceAndName("game", "EnemyGroup"),
        utils_client__WEBPACK_IMPORTED_MODULE_3__/* .apiClient.snippet.getByReferenceAndName */ .x.snippet.getByReferenceAndName("game", "Item"),
        utils_client__WEBPACK_IMPORTED_MODULE_3__/* .apiClient.snippet.getByReferenceAndName */ .x.snippet.getByReferenceAndName("game", "MapSet"),
        utils_client__WEBPACK_IMPORTED_MODULE_3__/* .apiClient.snippet.getByReferenceAndName */ .x.snippet.getByReferenceAndName("game", "Event"),
        utils_client__WEBPACK_IMPORTED_MODULE_3__/* .apiClient.snippet.getByReferenceAndName */ .x.snippet.getByReferenceAndName("game", "Option"),
        utils_client__WEBPACK_IMPORTED_MODULE_3__/* .apiClient.snippet.getByReferenceAndName */ .x.snippet.getByReferenceAndName("game", "Talk"),
        utils_client__WEBPACK_IMPORTED_MODULE_3__/* .apiClient.snippet.getByReferenceAndName */ .x.snippet.getByReferenceAndName("game", "WorldMap"),
        utils_client__WEBPACK_IMPORTED_MODULE_3__/* .apiClient.snippet.getByReferenceAndName */ .x.snippet.getByReferenceAndName("game", "Player"),
        utils_client__WEBPACK_IMPORTED_MODULE_3__/* .apiClient.snippet.getByReferenceAndName */ .x.snippet.getByReferenceAndName("game", "AiEnemy"), 
    ]);
    // console.log(dataEventState)
    let dataMap = null;
    let dataPeople = null;
    let dataEnemy = null;
    let dataEnemyGroup = null;
    let dataItem = null;
    let dataMapSet = null;
    let dataEventBase = null;
    let dataOption = null;
    let dataTalk = null;
    let dataWorldMap = null;
    let dataPlayerBase = null;
    let dataAi = null;
    if (dataMapState.status === "fulfilled") {
        dataMap = {
            ...dataMapState.value
        };
    }
    if (dataPeopleState.status === "fulfilled") {
        dataPeople = {
            ...dataPeopleState.value
        };
    }
    if (dataEnemyState.status === "fulfilled") {
        dataEnemy = {
            ...dataEnemyState.value
        };
    }
    if (dataEnemyGroupState.status === "fulfilled") {
        dataEnemyGroup = {
            ...dataEnemyGroupState.value
        };
    }
    if (dataItemState.status === "fulfilled") {
        dataItem = {
            ...dataItemState.value
        };
    }
    if (dataMapSetState.status === "fulfilled") {
        dataMapSet = {
            ...dataMapSetState.value
        };
    }
    if (dataEventState.status === "fulfilled") {
        dataEventBase = {
            ...dataEventState.value
        };
    }
    if (dataOptionState.status === "fulfilled") {
        dataOption = {
            ...dataOptionState.value
        };
    }
    if (dataTalkState.status === "fulfilled") {
        dataTalk = {
            ...dataTalkState.value
        };
    }
    if (dataWorldMapState.status === "fulfilled") {
        dataWorldMap = {
            ...dataWorldMapState.value
        };
    }
    if (dataPlayerState.status === "fulfilled") {
        dataPlayerBase = {
            ...dataPlayerState.value
        };
    }
    if (dataAiState.status === "fulfilled") {
        dataAi = {
            ...dataAiState.value
        };
    }
    return {
        dataMap,
        dataPeople,
        dataEnemy,
        dataEnemyGroup,
        dataItem,
        dataMapSet,
        dataEventBase,
        dataOption,
        dataTalk,
        dataWorldMap,
        dataPlayerBase,
        dataAi
    };
}
const GameView = (props)=>{
    // 请求数据
    const { dataMap , dataPeople , dataEnemy , dataEnemyGroup , dataItem , dataMapSet , dataEventBase , dataOption , dataTalk , dataWorldMap , dataPlayerBase , dataAi  } = props;
    // console.log(dataItem)
    const { 0: curPage , 1: setCurPage  } = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(0) // 0 map, 1 people, 2 enemy, 3 scene, 4 talk, 5 battle，
    ;
    const { 0: myWeizhi , 1: setWeizhi  } = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(dataMap["fengCheCunW1"]) // 所在地的object
    ;
    const { 0: checkObj , 1: setCheckObj  } = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)("girl");
    const { 0: talk , 1: settalk  } = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)("") // 对话事件id
    ;
    const { 0: talkIndex , 1: settalkIndex  } = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(0) // 对话的索引
    ;
    const { 0: battleCtrl , 1: setBattle  } = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({
        now: ""
    }) // 战场控制器 { now: ''  , s:1}
    ;
    const { 0: dataBattle , 1: setDataBattle  } = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({
        shiLaiMu: dataEnemy["dataEnemy"],
        step: 1
    }) // 敌人清单
    ;
    const { 0: battleText , 1: setBattleText  } = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([
        ""
    ]) // 敌人清单
    ;
    const { 0: wutai1 , 1: setWutai  } = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([
        dataEnemy["shiLaiMu"],
        null
    ]) // 战斗舞台清单
    ;
    const { 0: battleIndex , 1: setBattleIndex  } = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)("") // 战斗选单 索引 key
    ;
    const { 0: battleISub , 1: setBattleISub  } = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(0) // 次级战斗选单 索引 index
    ;
    const { 0: dataPlayer , 1: setPlayer  } = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(dataPlayerBase) // 玩家状态
    ;
    const { 0: dataEvent , 1: setEvent  } = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(dataEventBase) // 事件状态
    ;
    // 控制移动
    // 刷新地图
    function resetMap() {
        let fw = myWeizhi;
        while(fw?.eventGet && eventOk(fw.eventGet.events)){
            fw = dataMap[fw.eventGet.eventMap];
        }
        setWeizhi(fw);
    }
    // 方向移动
    function toDir(arg) {
        console.log(arg);
        const dir = arg.target.value;
        if (myWeizhi?.[dir]) {
            let fw = dataMap[myWeizhi[dir]];
            while(fw?.eventGet && eventOk(fw.eventGet.events)){
                fw = dataMap[fw.eventGet.eventMap];
            }
            setWeizhi(fw);
        }
    }
    // 判断是否可以移动
    function canDir(arg) {
        return myWeizhi?.[arg];
    }
    // 交互
    // 点击人
    function checkPeopleClick(arg) {
        const id = arg.target.value;
        const mapset = dataMapSet[myWeizhi.mapSetId];
        setCheckObj(mapset.peopleIds[id]);
        setCurPage(1);
    }
    // 点击怪物
    function checkEnemyClick(arg) {
        const id = arg.target.value;
        const mapset = dataMapSet[myWeizhi.mapSetId];
        setCheckObj(mapset.enemyIds[id]);
        setCurPage(2);
    }
    // 返回
    function checkMap() {
        setCurPage(0);
    }
    // 事件
    function eventOk(eventGet) {
        let x = true;
        for (var ef of eventGet){
            if (ef.eventtype == "Equal") {
                x = x && ef.eventvalue == dataEvent[ef.eventid].value;
            } else if (ef.eventtype == "Bigger") {
                x = x && dataEvent[ef.eventid].value > ef.eventvalue;
            } else if (ef.eventtype == "Smaller") {
                x = x && dataEvent[ef.eventid].value < ef.eventvalue;
            }
        }
        return x;
    }
    // 对话
    // 地图的对话按钮
    function peopleTalk(arg) {
        const id = arg.target.value;
        const objid = dataMapSet[myWeizhi.mapSetId]?.peopleIds[id];
        setCheckObj(objid);
        const argg = {
            target: {
                value: objid
            }
        };
        startTalk(argg);
    }
    // check页面的对话按钮
    function startTalk(arg) {
        const id = arg.target.value;
        let talkid = dataPeople[id]?.talkId;
        // const talkl = dataTalk[talkid]
        while(dataTalk?.[talkid] && dataTalk[talkid]?.eventGet && eventOk(dataTalk[talkid].eventGet.events)){
            talkid = dataTalk[talkid].eventGet.eventTalk;
        }
        settalk(talkid);
        settalkIndex(0);
        setCurPage(4);
    }
    // 下一句
    function nextTalk() {
        if (talkIndex + 1 == dataTalk[talk]?.text.length) {
            dataPeople[checkObj].talkId = dataTalk[talk].nextTalkId;
            setCurPage(0);
        } else {
            settalkIndex(talkIndex + 1);
        }
    }
    // 是否可以点击option
    function ableOption(id) {
        // if(isNull(id)){return true}
        const op = dataOption[id];
        let x = true;
        for (var item of op.itemGet){
            x = x && dataPlayer.item?.[item.itemid] >= item.nummin && (!item?.nummax || dataPlayer.item?.[item.itemid] <= item?.nummax);
        }
        x = x && (!op?.eventGet || eventOk(op?.eventGet));
        return x;
    }
    // 点击option 
    function optionComplete(arg) {
        const id = arg.target.value;
        let player = dataPlayer;
        for (var item of dataOption[id]?.itemSet){
            if (!player.item?.[item.itemid]) {
                player.item[item.itemid] = Math.max(item.itemnum, 0);
                if (item.itemnum < 0) {
                    console.log("\u60F3\u6263\u6CA1\u6709\u7684\u4E1C\u897F\uFF0C\u68C0\u67E5option\u7684\u8981\u6C42\u9650\u5236\u662F\u5426\u6B63\u786E");
                }
            } else {
                player.item[item.itemid] = player.item[item.itemid] + item.itemnum;
            }
        }
        setPlayer(player);
        let eventCopy = dataEvent;
        for (var event of dataOption[id]?.eventSet){
            eventCopy[event.eventid].value = event.eventvalue;
        }
        setEvent(eventCopy);
        startTalk({
            target: {
                value: checkObj
            }
        });
        resetMap();
    }
    // 战斗
    // 地图上点击战斗按钮
    function peoplebattle(arg) {
        const id = arg.target.value;
        const objid = dataMapSet[myWeizhi.mapSetId]?.peopleIds[id];
        setCheckObj(objid);
        const argg = {
            target: {
                value: objid
            }
        };
        startpeoplebattle(argg);
    }
    function masterattle(arg) {
        const id = arg.target.value;
        const objid = dataMapSet[myWeizhi.mapSetId]?.enemyIds[id];
        setCheckObj(objid);
        const argg = {
            target: {
                value: objid
            }
        };
        startmasterbattle(argg);
    }
    // enemyGroup 2 enemys
    function getenemylist(enemyGroup) {
        const enemys = enemyGroup.enemys;
        let s = [];
        for (var enemy of enemys){
            if (!enemy?.prob || Math.random() < enemy.prob) {
                let num;
                if (enemy?.minnum) {
                    num = parseInt(Math.random() * (enemy.maxnum - enemy.minnum + 1) + enemy.minnum + "");
                } else {
                    num = parseInt(Math.random() * (enemy.maxnum + 1) + "");
                }
                for(var i = 0; i < num; i++){
                    s.push(enemy.enemyid);
                }
            }
        }
        return s;
    }
    // 对人物战斗
    function startpeoplebattle(arg) {
        const pid = arg.target.value;
        var r = confirm("\u786E\u5B9A\u8981\u5BF9\u8BE5\u975E\u654C\u5BF9\u89D2\u8272\u52A8\u624B\u5417\uFF1F");
        if (r) {
            const enemy = dataPeople[pid].enemyId;
            // 先按怪物组id算，不然按怪物id算
            const enemys = dataEnemyGroup?.[enemy] ? getenemylist(dataEnemyGroup[enemy]) : [
                enemy
            ];
            startbattle(enemys);
        } else {
            console.log(false);
        }
    }
    // 对怪
    function startmasterbattle(arg) {
        const pid = arg.target.value;
        const enemys = dataEnemyGroup?.[pid] ? getenemylist(dataEnemyGroup[pid]) : [
            pid
        ];
        startbattle(enemys);
    }
    // 设置菜单信息
    function setPlayerBattleMenu() {
        let menu = {};
        menu["move"] = [
            {
                "name": "\u79FB\u52A8",
                "dis": 2
            },
            {
                "name": "\u5FEB\u901F\u79FB\u52A8",
                "dis": 3
            }
        ];
        menu["attack"] = [];
        for (var wp of dataPlayer.weaponIds){
            const wps = dataItem[wp];
            // console.log(wps)
            menu["attack"].push({
                "name": wps.name,
                "dis": wps.wdistance
            });
        }
        menu["skill"] = [];
        for (var wp of dataPlayer.skill){
            menu["skill"].push({
                "name": wp,
                "dis": 4
            });
        }
        menu["items"] = [];
        for(let wp1 in dataPlayer.item){
            const it = dataItem[wp1];
            if (it.type != "Weapon") {
                menu["items"].push({
                    "name": it.name,
                    "dis": -1
                });
            }
        }
        menu["def"] = [
            {
                "name": "\u9632\u5FA1\u67B6\u52BF",
                "dis": 0
            }
        ];
        menu["run"] = [
            {
                "name": "\u5168\u4F53\u9003\u8131",
                "dis": -1
            },
            {
                "name": "\u81EA\u5DF1\u9003\u8131",
                "dis": 0
            }
        ];
        let pdc = dataPlayer;
        pdc["menu"] = menu;
        setPlayer(pdc);
    }
    // 开始战斗
    function startbattle(enemys) {
        setBattleText([
            ""
        ]);
        for(var ind in dataBattle){
            delete dataBattle[ind];
        }
        for (var enemy of enemys){
            let houzhui = "";
            while(dataBattle?.[enemy + houzhui]){
                let enemynn = houzhui;
                for (var h of [
                    "A",
                    "B",
                    "C",
                    "D",
                    "E",
                    "F",
                    "G",
                    "H",
                    "I",
                    "J",
                    "K",
                    "L",
                    "M",
                    "N",
                    "O",
                    "P",
                    "Q",
                    "R",
                    "S",
                    "T",
                    "U",
                    "V",
                    "W",
                    "X",
                    "Y",
                    "Z"
                ]){
                    enemynn = houzhui + h;
                    // console.log(enemynn)
                    if (!dataBattle?.[enemy + enemynn]) {
                        houzhui = enemynn;
                        break;
                    }
                }
                houzhui = enemynn;
            }
            // dataBattle.start = true
            dataBattle[enemy + houzhui] = JSON.parse(JSON.stringify(dataEnemy[enemy]));
            dataBattle[enemy + houzhui].name = dataBattle[enemy + houzhui].name + houzhui;
            dataBattle[enemy + houzhui].step = 0;
            if (!dataBattle[enemy + houzhui].hp_) {
                dataBattle[enemy + houzhui].hp_ = Number(dataBattle[enemy + houzhui].hp);
            }
            if (!dataBattle[enemy + houzhui].mp_) {
                dataBattle[enemy + houzhui].mp_ = dataBattle[enemy + houzhui].mp;
            }
            if (!dataBattle[enemy + houzhui].speed_) {
                dataBattle[enemy + houzhui].speed_ = dataBattle[enemy + houzhui].speed;
            }
        }
        setDataBattle(dataBattle);
        dataPlayer.step = 0;
        startwutai(dataBattle);
        setBattleIndex("");
        setCurPage(5);
        ctrlbattle(true);
    }
    // 战斗控制器
    function ctrlbattle(add = true) {
        let enemystep = [];
        for(var ei in dataBattle){
            if (!dataBattle[ei]) {
                continue;
            }
            if (add && dataBattle[ei]?.step > -1) {
                dataBattle[ei].step += 1;
            }
            if (dataBattle[ei]?.step / (1 - dataBattle[ei].speed / (dataBattle[ei].speed + 100)) > 100) {
                enemystep.push(ei);
            }
        }
        let playerstep = [];
        // for(var pi in dataPlayer){}
        if (add) {
            dataPlayer.step += 1;
        }
        if (dataPlayer.step / (1 - dataPlayer.speed / (dataPlayer.speed + 100)) > 100) {
            playerstep.push(1);
        }
        if (enemystep.length > 0) {
            setBattle({
                now: enemystep[0]
            });
            // battleCtrl.now = enemystep[0]
            // setBattle(battleCtrl)
            // setBattle(enemystep[0])
            stepEnemy(enemystep[0]);
        } else if (playerstep.length > 0) {
            setPlayerBattleMenu();
            setBattle({
                now: "player"
            });
        // battleCtrl.now = 'player'
        // setBattle(battleCtrl)
        // setBattle('player')
        } else {
            setBattle({
                now: ""
            });
            // battleCtrl.now = ''
            // setBattle(battleCtrl)
            // setBattle(()=>'')
            setDataBattle(dataBattle);
            setTimeout(()=>{
                ctrlbattle(true);
            }, 3);
        // ctrlbattle(true) 
        }
    }
    // 敌人控制
    function stepEnemy(index) {
        let enemy = dataBattle[index];
        if (!enemy?.ai) {
            enemy.ai = "base";
        }
        let ai = dataAi[enemy.ai];
        // run
        if (ai.canRun && Math.random() < ai.runProb && enemy.hp_ / enemy.hp < ai.runHp) {
            console.log(enemy.name + " run!!");
        } else if (ai.canRecover && Math.random() < ai.recoverProb) {
            console.log(enemy.name + " recover!!");
        } else if (ai.canSupport && Math.random() < ai.supportProb) {
            console.log(enemy.name + " support!!");
        } else if (ai.canHurt) {
            let actions = [];
            if (ai.canAttack) {
                for (var w of enemy.weaponIds){
                    actions.push({
                        type: "attack",
                        distance: dataItem[w].wdistance,
                        id: w
                    });
                }
            }
            if (ai.canSkill && ai.skillIds) {
                for (var w of enemy.skill){
                    actions.push({
                        type: "attack",
                        distance: dataItem[w].wdistance,
                        id: w
                    });
                }
            }
        }
        enemy.step = 0;
        battleText.push(enemy.name + "\u7684\u56DE\u5408\uFF01");
        setBattleText(battleText);
        setDataBattle(dataBattle);
        ctrlbattle(false);
    }
    // 从清单初始化获取舞台
    function startwutai(enemylist) {
        let maxdis = Math.max(7, dataPlayer.distance);
        let wutai = [];
        for(var i = 0; i < 3 * maxdis; i++){
            wutai.push({
                "select": false,
                "type": false,
                "self": false
            });
        }
        // console.log(enemylist)
        for(let enindex in enemylist){
            let enemy = enemylist[enindex];
            if (!enemy) {
                continue;
            }
            let dis = 0;
            for (var weapon of enemy.weaponIds){
                if (dataItem[weapon].wdistance > dis) {
                    dis = dataItem[weapon].wdistance;
                }
            }
            let index = Math.min(maxdis - dis, 3) * 3 - 1;
            // 容易死循环
            while(wutai[index].type == "enemy" || wutai[index].type == "player"){
                index = index - 1;
                if (index < 0) {
                    break;
                }
            }
            wutai[index].type = "enemy";
            wutai[index].id = enindex;
            enemylist[enindex].pos = index;
        }
        wutai[3 * maxdis - 5].type = "player";
        wutai[3 * maxdis - 5].id = dataPlayer.name;
        dataPlayer.pos = 3 * maxdis - 5;
        dataPlayer.weaponindex = 0;
        setDataBattle(enemylist);
        // player的pos将会在此set
        setPlayerBattleMenu();
        setWutai(wutai);
    }
    // 战斗菜单选择
    function battleMeanMain(arg) {
        const ac = arg.currentTarget.value;
        const wi = dataPlayer.weaponindex;
        if (ac == battleIndex) {
            setBattleIndex("");
            setBattleISub(0);
            updateWutaiBySelf(0, "");
        } else {
            setBattleIndex(ac);
            if (ac == "attack") {
                setBattleISub(wi);
                updateWutaiBySelf(wi, ac);
            } else {
                setBattleISub(0);
                updateWutaiBySelf(0, ac);
            }
        }
    }
    // 战斗二级菜单选择
    function battleMeanSub(arg) {
        const index = arg.currentTarget.value;
        setBattleISub(index);
        updateWutaiBySelf(index, battleIndex);
        if (battleIndex == "attack") {
            dataPlayer.weaponindex = index;
            setPlayer(dataPlayer);
        }
    }
    // 更新战斗舞台-添加范围指示器
    function updateWutaiBySelf(index, imain) {
        if (!dataPlayer?.menu?.[imain]) {
            setWutai(clearallcolor());
            return;
        }
        let meaumain = dataPlayer.menu[imain];
        let s = meaumain[index].dis;
        let x = Math.floor(dataPlayer.pos / 3);
        let y = dataPlayer.pos % 3;
        let color = "r";
        let color_ = "rb";
        let target;
        if (imain == "move") {
            color = "g";
            color_ = "gb";
            target = false;
        } else if (imain == "items" || imain == "def") {
            color = "g";
            color_ = "gb";
            target = "player";
        } else {
            target = "enemy";
        }
        if (s > 0) {
            for(var i = 0; i < wutai1.length; i++){
                if (Math.abs(Math.floor(i / 3) - x) <= s) {
                    wutai1[i].select = color_;
                    if (wutai1[i].type == target) {
                        wutai1[i].select = color;
                    }
                } else {
                    wutai1[i].select = false;
                }
                wutai1[dataPlayer.pos].select = "self";
            }
        } else if (s == 0) {
            for(var i = 0; i < wutai1.length; i++){
                if (i == dataPlayer.pos) {
                    wutai1[i].select = color_;
                    if (wutai1[i].type == target) {
                        wutai1[i].select = color;
                    }
                } else {
                    wutai1[i].select = false;
                }
            }
        } else {
            for(var i = 0; i < wutai1.length; i++){
                if (wutai1[i].type == "player") {
                    wutai1[i].select = color_;
                    if (wutai1[i].type == target) {
                        wutai1[i].select = color;
                    }
                } else {
                    wutai1[i].select = color_;
                }
            }
        }
        wutai1[dataPlayer.pos].self = true;
        setWutai(wutai1);
    }
    // 清理舞台背景的指示器
    function clearallcolor() {
        let wt = wutai1;
        for(var i = 0; i < wutai1.length; i++){
            wt[i].select = false;
            wt[i].self = false;
        }
        return wt;
    }
    // 计算距离
    function caldistence(id1, id2) {
        const x1 = Math.floor(id1 / 3);
        const x2 = Math.floor(id2 / 3);
        const y1 = id1 % 3;
        const y2 = id2 % 3;
        return Math.abs(y1 - y2), Math.abs(x2 - x1);
    }
    // 玩家操作
    function playerstep1() {
        dataPlayer.step = 1;
        setPlayer(dataPlayer);
        ctrlbattle(false);
    }
    // 点击战场图标-玩家操作结束
    function tableSelect(arg) {
        const id = arg.currentTarget.getAttribute("data-value");
        // 当二级菜单未被选择的时候
        if (battleIndex == "") {
            if (wutai1[id]?.enemy) {
                console.log(wutai1[id]?.type, "\u67E5\u770B\u4FE1\u606F");
            } else if (wutai1[id]?.player) {
                console.log(wutai1[id]?.type, "\u67E5\u770B\u73A9\u5BB6\u4FE1\u606F");
            }
        } else {
            switch(battleIndex){
                case "move":
                    if (wutai1[id].type) {
                        console.log("\u65E0\u6548\u79FB\u52A8");
                    } else if (wutai1[id].select != "g") {
                        console.log("\u65E0\u6548\u79FB\u52A8");
                    } else {
                        setBattleIndex("");
                        setWutai(clearallcolor());
                        setWutai(wutai1);
                        let wt = wutai1;
                        let dp = dataPlayer;
                        wt[dp.pos].type = false;
                        dp.pos = id;
                        wt[id].type = "player";
                        wt[id].id = dp.name;
                        setPlayer(dp);
                        setWutai(wt);
                        playerstep1();
                    }
                    break;
                case "attack":
                    if (!wutai1[id].type && wutai1[id].type != "enemy") {
                        console.log("\u65E0\u6548\u653B\u51FB");
                    } else if (wutai1[id].select != "r") {
                        console.log("\u65E0\u6548\u653B\u51FB");
                    } else {
                        setBattleIndex("");
                        setWutai(clearallcolor());
                        setWutai(wutai1);
                        let enemy = dataBattle[wutai1[id].id];
                        enemy.hp_ = enemy.hp_ - dataItem[dataPlayer.weaponIds[dataPlayer.weaponindex]].wattack;
                        if (enemy.hp_ <= 0) {
                            setDataBattle(beatenemy());
                        }
                        setDataBattle(dataBattle);
                        setWutai(wutai1);
                        playerstep1();
                    }
                    break;
            }
        }
    }
    // 击败敌人
    function beatenemy() {
        for(var enemyindex in dataBattle){
            let enemy = dataBattle[enemyindex];
            if (enemy.hp_ <= 0) {
                wutai1[enemy.pos].type = false;
                dataBattle[enemyindex] = null;
            }
        }
        return dataBattle;
    }
    /* -------------------------------------------------------页面和函数的分界线-----------------------------------------------------------*/ const mapHtml = /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().pages),
            hidden: !(curPage == 0),
            children: [
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                    className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().maptop),
                    children: [
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().titlemain),
                            children: myWeizhi?.name
                        }),
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().titlesub),
                            children: dataWorldMap[myWeizhi?.inId]?.name
                        })
                    ]
                }),
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                    className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().mapmid),
                    children: [
                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().midleft),
                            children: [
                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                    className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().leftava),
                                    children: "\u72B6\u6001\u680F"
                                }),
                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                    className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().leftscene)),
                                    children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                        className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().logomain), "flex items-center justify-center"),
                                        children: [
                                            " ",
                                            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(components_universal_Icons_games__WEBPACK_IMPORTED_MODULE_5__/* .BuildIcon */ .hk, {})
                                        ]
                                    })
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().midright),
                            children: [
                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                    className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().rightlocal), "flex items-center justify-center"),
                                    children: myWeizhi?.desc
                                }),
                                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                    className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().rightpeople)),
                                    children: [
                                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().logomain), "flex items-center justify-center"),
                                            children: [
                                                " ",
                                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(components_universal_Icons_games__WEBPACK_IMPORTED_MODULE_5__/* .PeopleIcon */ .t0, {})
                                            ]
                                        }),
                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().listall)),
                                            children: dataMapSet[myWeizhi.mapSetId]?.peopleIds?.map((people, index)=>{
                                                return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                                    className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().listoneout), "flex items-center justify-center"),
                                                    children: [
                                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("button", {
                                                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().listname)),
                                                            onClick: checkPeopleClick,
                                                            value: index,
                                                            children: String(dataPeople[people]?.name)
                                                        }, index),
                                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                                            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().listdiv),
                                                            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("button", {
                                                                hidden: dataPeople[people]?.buyId ? false : true,
                                                                className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default())[dataPeople[people]?.buyId ? "buttonbuycolor" : "buttondisablecolor"], (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().listbutton)),
                                                                children: "\u4EA4\u6613"
                                                            })
                                                        }),
                                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                                            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().listdiv),
                                                            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("button", {
                                                                disabled: dataPeople[people]?.enemyId ? false : true,
                                                                className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default())[dataPeople[people]?.enemyId ? "buttonattackcolor" : "buttondisablecolor"], (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().listbutton)),
                                                                onClick: peoplebattle,
                                                                value: index,
                                                                children: "\u653B\u51FB"
                                                            }, index)
                                                        }),
                                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                                            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().listdiv),
                                                            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("button", {
                                                                disabled: dataPeople[people]?.talkId ? false : true,
                                                                className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default())[dataPeople[people]?.talkId ? "buttontalkcolor" : "buttondisablecolor"], (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().listbutton)),
                                                                onClick: peopleTalk,
                                                                value: index,
                                                                children: "\u5BF9\u8BDD"
                                                            }, index)
                                                        })
                                                    ]
                                                });
                                            })
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                    className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().rightenemy),
                                    children: [
                                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().logomain), "flex items-center justify-center"),
                                            children: [
                                                " ",
                                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(components_universal_Icons_games__WEBPACK_IMPORTED_MODULE_5__/* .MasterIcon */ .yR, {})
                                            ]
                                        }),
                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().listall)),
                                            children: dataMapSet[myWeizhi.mapSetId]?.enemyIds?.map((enemy, index)=>{
                                                return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                                    className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().listoneout), "flex items-center"),
                                                    children: [
                                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("button", {
                                                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().listnamemaster)),
                                                            onClick: checkEnemyClick,
                                                            value: index,
                                                            children: dataEnemyGroup[enemy]?.name
                                                        }, index),
                                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                                            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().listdivmaster),
                                                            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("button", {
                                                                className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().buttonattackcolor), (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().listbutton)),
                                                                onClick: masterattle,
                                                                value: index,
                                                                children: "\u653B\u51FB"
                                                            }, index)
                                                        })
                                                    ]
                                                }, index);
                                            })
                                        })
                                    ]
                                })
                            ]
                        })
                    ]
                }),
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                    className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().mapdown),
                    children: [
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("button", {
                            type: "button",
                            disabled: !canDir("top"),
                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().buttontop), (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default())[canDir("top") ? "canable" : "disable"]),
                            onClick: toDir,
                            value: "top",
                            children: dataMap[myWeizhi?.["top"]]?.name
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", {
                            type: "button",
                            disabled: !canDir("down"),
                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().buttondown), (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default())[canDir("down") ? "canable" : "disable"]),
                            onClick: toDir,
                            value: "down",
                            children: [
                                " ",
                                dataMap[myWeizhi?.["down"]]?.name,
                                " "
                            ]
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", {
                            type: "button",
                            disabled: !canDir("left"),
                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().buttonleft), (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default())[canDir("left") ? "canable" : "disable"]),
                            onClick: toDir,
                            value: "left",
                            children: [
                                " ",
                                dataMap[myWeizhi?.["left"]]?.name,
                                " "
                            ]
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", {
                            type: "button",
                            disabled: !canDir("right"),
                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().buttonright), (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default())[canDir("right") ? "canable" : "disable"]),
                            onClick: toDir,
                            value: "right",
                            children: [
                                " ",
                                dataMap[myWeizhi?.["right"]]?.name,
                                " "
                            ]
                        }),
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("button", {
                            type: "button",
                            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().buttonmid),
                            children: myWeizhi?.name
                        })
                    ]
                })
            ]
        })
    });
    const checkHtml = /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().pages),
            hidden: !(curPage == 1),
            children: [
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                    className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().maptop),
                    children: [
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().titlemain),
                            children: myWeizhi?.name
                        }),
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().titlesub),
                            children: dataWorldMap[myWeizhi?.inId]?.name
                        })
                    ]
                }),
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                    className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().checkdesc)),
                    children: [
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().checktitle)),
                            children: dataPeople[checkObj]?.name
                        }),
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().checksub)),
                            children: dataPeople[checkObj]?.desc
                        })
                    ]
                }),
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                    className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().checkbG),
                    children: [
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("button", {
                            disabled: dataPeople[checkObj]?.talkId ? false : true,
                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default())[dataPeople[checkObj]?.talkId ? "buttontalkcolor" : "buttondisablecolor"], (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().checkbutton)),
                            onClick: startTalk,
                            value: checkObj,
                            children: "\u5BF9\u8BDD"
                        }),
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("button", {
                            disabled: dataPeople[checkObj]?.enemyId ? false : true,
                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default())[dataPeople[checkObj]?.enemyId ? "buttonattackcolor" : "buttondisablecolor"], (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().checkbutton)),
                            children: "\u653B\u51FB"
                        }),
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("button", {
                            hidden: dataPeople[checkObj]?.buyId ? false : true,
                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default())[dataPeople[checkObj]?.buyId ? "buttonbuycolor" : "buttondisablecolor"], (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().startTalk)),
                            children: "\u4EA4\u6613"
                        }),
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("button", {
                            onClick: checkMap,
                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().checkbutton), (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().buttonbackcolor), (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().checkbuttonback)),
                            children: "\u8FD4\u56DE"
                        })
                    ]
                })
            ]
        })
    });
    const checkMasterHtml = /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().pages),
            hidden: !(curPage == 2),
            children: [
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                    className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().maptop),
                    children: [
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().titlemain),
                            children: myWeizhi?.name
                        }),
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().titlesub),
                            children: dataWorldMap[myWeizhi?.inId]?.name
                        })
                    ]
                }),
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                    className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().checkmasterdesc)),
                    children: [
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().checktitle)),
                            children: dataEnemyGroup[checkObj]?.name
                        }),
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().checksub)),
                            children: dataEnemyGroup[checkObj]?.desc
                        })
                    ]
                }),
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                    className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().checkbG),
                    children: [
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("button", {
                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().buttonattackcolor), (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().checkbutton)),
                            onClick: startmasterbattle,
                            value: checkObj,
                            children: "\u653B\u51FB"
                        }),
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("button", {
                            onClick: checkMap,
                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().checkbutton), (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().buttonbackcolor), (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().checkbuttonback)),
                            children: "\u8FD4\u56DE"
                        })
                    ]
                })
            ]
        })
    });
    const talkHtml = /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().pages),
            hidden: !(curPage == 4),
            children: [
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                    className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().maptop),
                    children: [
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().titlemain),
                            children: myWeizhi?.name
                        }),
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().titlesub),
                            children: dataWorldMap[myWeizhi?.inId]?.name
                        })
                    ]
                }),
                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                    className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().talkmain)),
                    onClick: nextTalk,
                    children: [
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().checktitle)),
                            children: dataPeople[checkObj]?.name
                        }),
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().talkbG)),
                            children: dataTalk[talk]?.text[talkIndex]
                        })
                    ]
                }),
                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                    className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().checkbG),
                    hidden: !dataTalk[talk]?.optionIds || dataTalk[talk]?.text.length != talkIndex + 1,
                    children: dataTalk[talk]?.optionIds?.map((option, index)=>{
                        return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("button", {
                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default())[ableOption(option) ? "buttonbackcolor" : "buttondisablecolor"], (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().buttonoption)),
                            disabled: !ableOption(option),
                            onClick: optionComplete,
                            value: option,
                            children: dataOption[option]?.name
                        });
                    })
                })
            ]
        })
    });
    const spaceHtml = /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {});
    const battleHtml = /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
        children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["battle-page"]),
            hidden: !(curPage == 5),
            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["battle-page-main"]),
                children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                    className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["battle-page-main2"]),
                    children: [
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["battle-top"]),
                            children: "\u6218\u6597"
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["battle-mid"]),
                            children: [
                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                    className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["battle-left"]),
                                    children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                        className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["battle-left-menu"]),
                                        children: dataPlayer?.menu && dataPlayer.menu?.[battleIndex] ? dataPlayer.menu[battleIndex].map((item, index)=>{
                                            return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("button", {
                                                className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["battle-button-sub"]), (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default())[battleISub == index ? "bbuton-sub-scolor" : "bbuton-sub-color"]),
                                                onClick: battleMeanSub,
                                                value: index,
                                                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                                    className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["battle-button-sub-font"]),
                                                    children: item.name
                                                })
                                            });
                                        }) : ""
                                    })
                                }),
                                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                    className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["battle-right"]),
                                    hidden: !(battleCtrl?.now == "player"),
                                    children: [
                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("button", {
                                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["battle-button"]), (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default())[battleIndex == "move" ? "bbuton-scolor" : "bbuton-color"]),
                                            onClick: battleMeanMain,
                                            value: "move",
                                            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                                className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["battle-button-font"]),
                                                children: "\u79FB\u52A8"
                                            })
                                        }),
                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("button", {
                                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["battle-button"]), (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default())[battleIndex == "attack" ? "bbuton-scolor" : "bbuton-color"]),
                                            onClick: battleMeanMain,
                                            value: "attack",
                                            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                                className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["battle-button-font"]),
                                                children: "\u653B\u51FB"
                                            })
                                        }),
                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("button", {
                                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["battle-button"]), (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default())[battleIndex == "skill" ? "bbuton-scolor" : "bbuton-color"]),
                                            onClick: battleMeanMain,
                                            value: "skill",
                                            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                                className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["battle-button-font"]),
                                                children: "\u6280\u80FD"
                                            })
                                        }),
                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("button", {
                                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["battle-button"]), (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default())[battleIndex == "items" ? "bbuton-scolor" : "bbuton-color"]),
                                            onClick: battleMeanMain,
                                            value: "items",
                                            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                                className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["battle-button-font"]),
                                                children: "\u7269\u54C1"
                                            })
                                        }),
                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("button", {
                                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["battle-button"]), (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default())[battleIndex == "def" ? "bbuton-scolor" : "bbuton-color"]),
                                            onClick: battleMeanMain,
                                            value: "def",
                                            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                                className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["battle-button-font"]),
                                                children: "\u9632\u5FA1"
                                            })
                                        }),
                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("button", {
                                            className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["battle-button"]), (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default())[battleIndex == "run" ? "bbuton-scolor" : "bbuton-color"]),
                                            onClick: battleMeanMain,
                                            value: "run",
                                            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                                className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["battle-button-font"]),
                                                children: "\u9003\u8DD1"
                                            })
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                    className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["battle-wutai"]),
                                    children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                        className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["battle-main"]),
                                        children: wutai1.map((ite, ind)=>{
                                            return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                                className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["battle-main-one"]), (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default())[ite?.select == "g" ? "battle-one-g-color" : ite?.select == "r" ? "battle-one-r-color" : ite?.select == "gb" ? "battle-one-gb-color" : ite?.select == "rb" ? "battle-one-rb-color" : "battle-one-color"], (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default())[ite?.self ? "battle-one-self" : ""]),
                                                onClick: tableSelect,
                                                "data-value": ind,
                                                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                                    className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["battle-ceil"]), (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default())[ite?.type == "enemy" ? "battle-ceil-enemy" : ite?.type == "player" ? "battle-ceil-player" : ""]),
                                                    children: [
                                                        0
                                                    ].map(()=>{
                                                        // console.log(wutai[ind].type)
                                                        if (ite?.type) {
                                                            if (ite?.type == "enemy") {
                                                                let thisenemy = dataBattle[wutai1[ind]?.id];
                                                                return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                                                    children: [
                                                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("meter", {
                                                                            value: thisenemy.hp_,
                                                                            min: "0",
                                                                            max: thisenemy.hp,
                                                                            low: thisenemy.hp * 0.2,
                                                                            high: thisenemy.hp * 0.5,
                                                                            optimum: thisenemy.hp,
                                                                            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["hp-ceil"])
                                                                        }),
                                                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("progress", {
                                                                            value: thisenemy.step,
                                                                            max: 100 * (1 - thisenemy.speed / (thisenemy.speed + 100)),
                                                                            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["sp-ceil"])
                                                                        }),
                                                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                                                            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["enemy-text-ceil"]),
                                                                            children: thisenemy.name
                                                                        })
                                                                    ]
                                                                });
                                                            } else if (ite?.type == "player") {
                                                                let thisplayer = dataPlayer;
                                                                // console.log(dataPlayer.step / (1 - dataPlayer.speed/(dataPlayer.speed+100)))
                                                                return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
                                                                    children: [
                                                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("meter", {
                                                                            value: thisplayer.hp,
                                                                            min: "0",
                                                                            max: thisplayer.hpmax,
                                                                            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["hp-ceil"])
                                                                        }),
                                                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("progress", {
                                                                            value: dataPlayer.step,
                                                                            max: 100 * (1 - dataPlayer.speed / (dataPlayer.speed + 100)),
                                                                            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["sp-ceil"])
                                                                        }),
                                                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                                                            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["player-text-ceil"]),
                                                                            children: thisplayer.name
                                                                        })
                                                                    ]
                                                                });
                                                            } else {
                                                                return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {});
                                                            }
                                                        }
                                                    })
                                                })
                                            });
                                        })
                                    })
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                            className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["battle-bottom"]),
                            children: [
                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("button", {
                                    onClick: checkMap,
                                    className: clsx__WEBPACK_IMPORTED_MODULE_4___default()((_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().checkbutton), (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().buttonbackcolor), (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default().checkbuttonback)),
                                    children: "\u8FD4\u56DE"
                                }),
                                battleText.reverse().map((t, i)=>{
                                    return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                        className: (_games_module_css__WEBPACK_IMPORTED_MODULE_6___default()["battle-text"]),
                                        children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                            children: t
                                        })
                                    });
                                })
                            ]
                        })
                    ]
                })
            })
        })
    });
    const ALLHtml = /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
        children: [
            mapHtml,
            checkHtml,
            checkMasterHtml,
            talkHtml,
            battleHtml
        ]
    });
    return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
        children: ALLHtml
    });
};
const GG = (0,mobx_react_lite__WEBPACK_IMPORTED_MODULE_1__.observer)(GameView);
GG.getInitialProps = async (ctx)=>{
    try {
        const data = await getGameData();
        return data;
    } catch (err) {
        throw err;
    }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GG);

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 52167:
/***/ ((module) => {

"use strict";
module.exports = require("axios");

/***/ }),

/***/ 33104:
/***/ ((module) => {

"use strict";
module.exports = require("camelcase-keys");

/***/ }),

/***/ 68103:
/***/ ((module) => {

"use strict";
module.exports = require("clsx");

/***/ }),

/***/ 1635:
/***/ ((module) => {

"use strict";
module.exports = require("dayjs");

/***/ }),

/***/ 45944:
/***/ ((module) => {

"use strict";
module.exports = require("mobx-react-lite");

/***/ }),

/***/ 16689:
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ 15255:
/***/ ((module) => {

"use strict";
module.exports = require("react-message-popup");

/***/ }),

/***/ 20997:
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ }),

/***/ 69915:
/***/ ((module) => {

"use strict";
module.exports = import("js-cookie");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, [9908], () => (__webpack_exec__(78602)));
module.exports = __webpack_exports__;

})();